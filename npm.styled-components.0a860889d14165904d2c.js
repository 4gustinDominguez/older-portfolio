(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{116:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createGlobalStyle",(function(){return ne})),n.d(e,"css",(function(){return St})),n.d(e,"isStyledComponent",(function(){return A})),n.d(e,"keyframes",(function(){return oe})),n.d(e,"ServerStyleSheet",(function(){return Wt})),n.d(e,"StyleSheetConsumer",(function(){return Kt})),n.d(e,"StyleSheetContext",(function(){return zt})),n.d(e,"StyleSheetManager",(function(){return Vt})),n.d(e,"ThemeConsumer",(function(){return Jt})),n.d(e,"ThemeContext",(function(){return qt})),n.d(e,"ThemeProvider",(function(){return Ut})),n.d(e,"withTheme",(function(){return ie})),n.d(e,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",(function(){return ae}));var r=n(77),o=n.n(r),i=n(117),a=n.n(i),s=n(0),c=n.n(s),u=n(118),l=n(78),d=n(79),f=(n(107),n(122)),p=n(119),h=function(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},C=function(t){return"object"===(void 0===t?"undefined":m(t))&&t.constructor===Object},w=Object.freeze([]),I=Object.freeze({});function j(t){return"function"==typeof t}function O(t){return t.displayName||t.name||"Component"}function A(t){return t&&"string"==typeof t.styledComponentId}var E=void 0!==t&&(t.env.REACT_APP_SC_ATTR||t.env.SC_ATTR)||"data-styled",T="undefined"!=typeof window&&"HTMLElement"in window,N="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==t&&(t.env.REACT_APP_SC_DISABLE_SPEEDY||t.env.SC_DISABLE_SPEEDY)||!1,R={};var x=function(t){function e(n){y(this,e);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=b(this,t.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(o.length>0?" Additional arguments: "+o.join(", "):"")));return b(a)}return S(e,t),e}(Error),P=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,_=function(t){var e=""+(t||""),n=[];return e.replace(P,(function(t,e,r){return n.push({componentId:e,matchIndex:r}),t})),n.map((function(t,r){var o=t.componentId,i=t.matchIndex,a=n[r+1];return{componentId:o,cssFromDOM:a?e.slice(i,a.matchIndex):e.slice(i)}}))},M=/^\s*\/\/.*$/gm,k=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),D=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),H=[],F=function(t){if(-2===t){var e=H;return H=[],e}},L=a()((function(t){H.push(t)})),B=void 0,G=void 0,$=void 0,Y=function(t,e,n){return e>0&&-1!==n.slice(0,e).indexOf(G)&&n.slice(e-G.length,e)!==G?"."+B:t};D.use([function(t,e,n){2===t&&n.length&&n[0].lastIndexOf(G)>0&&(n[0]=n[0].replace($,Y))},L,F]),k.use([L,F]);var q=function(t){return k("",t)};function J(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",o=t.join("").replace(M,""),i=e&&n?n+" "+e+" { "+o+" }":o;return B=r,G=e,$=new RegExp("\\"+G+"\\b","g"),D(n||!e?"":e,i)}var U=function(){return n.nc},W=function(t,e,n){n&&((t[e]||(t[e]=Object.create(null)))[n]=!0)},z=function(t,e){t[e]=Object.create(null)},K=function(t){return function(e,n){return void 0!==t[e]&&t[e][n]}},V=function(t){var e="";for(var n in t)e+=Object.keys(t[n]).join(" ")+" ";return e.trim()},Z=function(t){if(t.sheet)return t.sheet;for(var e=t.ownerDocument.styleSheets.length,n=0;n<e;n+=1){var r=t.ownerDocument.styleSheets[n];if(r.ownerNode===t)return r}throw new x(10)},Q=function(t,e,n){if(!e)return!1;var r=t.cssRules.length;try{t.insertRule(e,n<=r?n:r)}catch(t){return!1}return!0},X=function(t){return"\n/* sc-component-id: "+t+" */\n"},tt=function(t,e){for(var n=0,r=0;r<=e;r+=1)n+=t[r];return n},et=function(t,e){return function(n){var r=U();return"<style "+[r&&'nonce="'+r+'"',E+'="'+V(e)+'"','data-styled-version="4.4.1"',n].filter(Boolean).join(" ")+">"+t()+"</style>"}},nt=function(t,e){return function(){var n,r=((n={})[E]=V(e),n["data-styled-version"]="4.4.1",n),o=U();return o&&(r.nonce=o),c.a.createElement("style",g({},r,{dangerouslySetInnerHTML:{__html:t()}}))}},rt=function(t){return function(){return Object.keys(t)}},ot=function(t,e){return t.createTextNode(X(e))},it=function t(e,n){var r=void 0===e?Object.create(null):e,o=void 0===n?Object.create(null):n,i=function(t){var e=o[t];return void 0!==e?e:o[t]=[""]},a=function(){var t="";for(var e in o){var n=o[e][0];n&&(t+=X(e)+n)}return t};return{clone:function(){var e=function(t){var e=Object.create(null);for(var n in t)e[n]=g({},t[n]);return e}(r),n=Object.create(null);for(var i in o)n[i]=[o[i][0]];return t(e,n)},css:a,getIds:rt(o),hasNameForId:K(r),insertMarker:i,insertRules:function(t,e,n){i(t)[0]+=e.join(" "),W(r,t,n)},removeRules:function(t){var e=o[t];void 0!==e&&(e[0]="",z(r,t))},sealed:!1,styleTag:null,toElement:nt(a,r),toHTML:et(a,r)}},at=function(t,e,n,r,o){if(T&&!n){var i=function(t,e,n){var r=document;t?r=t.ownerDocument:e&&(r=e.ownerDocument);var o=r.createElement("style");o.setAttribute(E,""),o.setAttribute("data-styled-version","4.4.1");var i=U();if(i&&o.setAttribute("nonce",i),o.appendChild(r.createTextNode("")),t&&!e)t.appendChild(o);else{if(!e||!t||!e.parentNode)throw new x(6);e.parentNode.insertBefore(o,n?e:e.nextSibling)}return o}(t,e,r);return N?function(t,e){var n=Object.create(null),r=Object.create(null),o=void 0!==e,i=!1,a=function(e){var o=r[e];return void 0!==o?o:(r[e]=ot(t.ownerDocument,e),t.appendChild(r[e]),n[e]=Object.create(null),r[e])},s=function(){var t="";for(var e in r)t+=r[e].data;return t};return{clone:function(){throw new x(5)},css:s,getIds:rt(r),hasNameForId:K(n),insertMarker:a,insertRules:function(t,r,s){for(var c=a(t),u=[],l=r.length,d=0;d<l;d+=1){var f=r[d],p=o;if(p&&-1!==f.indexOf("@import"))u.push(f);else{p=!1;var h=d===l-1?"":" ";c.appendData(""+f+h)}}W(n,t,s),o&&u.length>0&&(i=!0,e().insertRules(t+"-import",u))},removeRules:function(a){var s=r[a];if(void 0!==s){var c=ot(t.ownerDocument,a);t.replaceChild(c,s),r[a]=c,z(n,a),o&&i&&e().removeRules(a+"-import")}},sealed:!1,styleTag:t,toElement:nt(s,n),toHTML:et(s,n)}}(i,o):function(t,e){var n=Object.create(null),r=Object.create(null),o=[],i=void 0!==e,a=!1,s=function(t){var e=r[t];return void 0!==e?e:(r[t]=o.length,o.push(0),z(n,t),r[t])},c=function(){var e=Z(t).cssRules,n="";for(var i in r){n+=X(i);for(var a=r[i],s=tt(o,a),c=s-o[a];c<s;c+=1){var u=e[c];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new x(5)},css:c,getIds:rt(r),hasNameForId:K(n),insertMarker:s,insertRules:function(r,c,u){for(var l=s(r),d=Z(t),f=tt(o,l),p=0,h=[],m=c.length,y=0;y<m;y+=1){var v=c[y],g=i;g&&-1!==v.indexOf("@import")?h.push(v):Q(d,v,f+p)&&(g=!1,p+=1)}i&&h.length>0&&(a=!0,e().insertRules(r+"-import",h)),o[l]+=p,W(n,r,u)},removeRules:function(s){var c=r[s];if(void 0!==c&&!1!==t.isConnected){var u=o[c];!function(t,e,n){for(var r=e-n,o=e;o>r;o-=1)t.deleteRule(o)}(Z(t),tt(o,c)-1,u),o[c]=0,z(n,s),i&&a&&e().removeRules(s+"-import")}},sealed:!1,styleTag:t,toElement:nt(c,n),toHTML:et(c,n)}}(i,o)}return it()},st=/\s+/,ct=void 0;ct=T?N?40:1e3:-1;var ut=0,lt=void 0,dt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(this,t),this.getImportRuleTag=function(){var t=e.importRuleTag;if(void 0!==t)return t;var n=e.tags[0];return e.importRuleTag=at(e.target,n?n.styleTag:null,e.forceServer,!0)},ut+=1,this.id=ut,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return t.prototype.rehydrate=function(){if(!T||this.forceServer)return this;var t=[],e=[],n=!1,r=document.querySelectorAll("style["+E+'][data-styled-version="4.4.1"]'),o=r.length;if(!o)return this;for(var i=0;i<o;i+=1){var a=r[i];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,c=(a.getAttribute(E)||"").trim().split(st),u=c.length,l=0;l<u;l+=1)s=c[l],this.rehydratedNames[s]=!0;e.push.apply(e,_(a.textContent)),t.push(a)}var d=e.length;if(!d)return this;var f=this.makeTag(null);!function(t,e,n){for(var r=0,o=n.length;r<o;r+=1){var i=n[r],a=i.componentId,s=i.cssFromDOM,c=q(s);t.insertRules(a,c)}for(var u=0,l=e.length;u<l;u+=1){var d=e[u];d.parentNode&&d.parentNode.removeChild(d)}}(f,t,e),this.capacity=Math.max(1,ct-d),this.tags.push(f);for(var p=0;p<d;p+=1)this.tagMap[e[p].componentId]=f;return this},t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];lt=new t(void 0,e).rehydrate()},t.prototype.clone=function(){var e=new t(this.target,this.forceServer);return this.clones.push(e),e.tags=this.tags.map((function(t){for(var n=t.getIds(),r=t.clone(),o=0;o<n.length;o+=1)e.tagMap[n[o]]=r;return r})),e.rehydratedNames=g({},this.rehydratedNames),e.deferred=g({},this.deferred),e},t.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(t){t.sealed=!0}))},t.prototype.makeTag=function(t){var e=t?t.styleTag:null;return at(this.target,e,this.forceServer,!1,this.getImportRuleTag)},t.prototype.getTagForId=function(t){var e=this.tagMap[t];if(void 0!==e&&!e.sealed)return e;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=ct,n=this.makeTag(n),this.tags.push(n)),this.tagMap[t]=n},t.prototype.hasId=function(t){return void 0!==this.tagMap[t]},t.prototype.hasNameForId=function(t,e){if(void 0===this.ignoreRehydratedNames[t]&&this.rehydratedNames[e])return!0;var n=this.tagMap[t];return void 0!==n&&n.hasNameForId(t,e)},t.prototype.deferredInject=function(t,e){if(void 0===this.tagMap[t]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(t,e);this.getTagForId(t).insertMarker(t),this.deferred[t]=e}},t.prototype.inject=function(t,e,n){for(var r=this.clones,o=0;o<r.length;o+=1)r[o].inject(t,e,n);var i=this.getTagForId(t);if(void 0!==this.deferred[t]){var a=this.deferred[t].concat(e);i.insertRules(t,a,n),this.deferred[t]=void 0}else i.insertRules(t,e,n)},t.prototype.remove=function(t){var e=this.tagMap[t];if(void 0!==e){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(t);e.removeRules(t),this.ignoreRehydratedNames[t]=!0,this.deferred[t]=void 0}},t.prototype.toHTML=function(){return this.tags.map((function(t){return t.toHTML()})).join("")},t.prototype.toReactElements=function(){var t=this.id;return this.tags.map((function(e,n){var r="sc-"+t+"-"+n;return Object(s.cloneElement)(e.toElement(),{key:r})}))},v(t,null,[{key:"master",get:function(){return lt||(lt=(new t).rehydrate())}},{key:"instance",get:function(){return t.master}}]),t}(),ft=function(){function t(e,n){var r=this;y(this,t),this.inject=function(t){t.hasNameForId(r.id,r.name)||t.inject(r.id,r.rules,r.name)},this.toString=function(){throw new x(12,String(r.name))},this.name=e,this.rules=n,this.id="sc-keyframes-"+e}return t.prototype.getName=function(){return this.name},t}(),pt=/([A-Z])/g,ht=/^ms-/;function mt(t){return t.replace(pt,"-$1").toLowerCase().replace(ht,"-ms-")}var yt=function(t){return null==t||!1===t||""===t},vt=function t(e,n){var r=[];return Object.keys(e).forEach((function(n){if(!yt(e[n])){if(C(e[n]))return r.push.apply(r,t(e[n],n)),r;if(j(e[n]))return r.push(mt(n)+":",e[n],";"),r;r.push(mt(n)+": "+(o=n,null==(i=e[n])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||o in u.a?String(i).trim():i+"px")+";")}var o,i;return r})),n?[n+" {"].concat(r,["}"]):r};function gt(t,e,n){if(Array.isArray(t)){for(var r,o=[],i=0,a=t.length;i<a;i+=1)null!==(r=gt(t[i],e,n))&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}return yt(t)?null:A(t)?"."+t.styledComponentId:j(t)?"function"!=typeof(s=t)||s.prototype&&s.prototype.isReactComponent||!e?t:gt(t(e),e,n):t instanceof ft?n?(t.inject(n),t.getName()):t:C(t)?vt(t):t.toString();var s}function St(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return j(t)||C(t)?gt(h(w,[t].concat(n))):gt(h(t,n))}function bt(t){for(var e,n=0|t.length,r=0|n,o=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var Ct=function(t){return String.fromCharCode(t+(t>25?39:97))};function wt(t){var e="",n=void 0;for(n=t;n>52;n=Math.floor(n/52))e=Ct(n%52)+e;return Ct(n%52)+e}function It(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(Array.isArray(r)&&!It(r,e))return!1;if(j(r)&&!A(r))return!1}return!e.some((function(t){return j(t)||function(t){for(var e in t)if(j(t[e]))return!0;return!1}(t)}))}var jt,Ot=function(t){return wt(bt(t))},At=function(){function t(e,n,r){y(this,t),this.rules=e,this.isStatic=It(e,n),this.componentId=r,dt.master.hasId(r)||dt.master.deferredInject(r,[])}return t.prototype.generateAndInjectStyles=function(t,e){var n=this.isStatic,r=this.componentId,o=this.lastClassName;if(T&&n&&"string"==typeof o&&e.hasNameForId(r,o))return o;var i=gt(this.rules,t,e),a=Ot(this.componentId+i.join(""));return e.hasNameForId(r,a)||e.inject(this.componentId,J(i,"."+a,void 0,r),a),this.lastClassName=a,a},t.generateName=function(t){return Ot(t)},t}(),Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,r=!!n&&t.theme===n.theme,o=t.theme&&!r?t.theme:e||n.theme;return o},Tt=/[[\].#*$><+~=|^:(),"'`-]+/g,Nt=/(^-|-$)/g;function Rt(t){return t.replace(Tt,"-").replace(Nt,"")}function xt(t){return"string"==typeof t&&!0}var Pt={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},_t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Mt=((jt={})[l.ForwardRef]={$$typeof:!0,render:!0},jt),kt=Object.defineProperty,Dt=Object.getOwnPropertyNames,Ht=Object.getOwnPropertySymbols,Ft=void 0===Ht?function(){return[]}:Ht,Lt=Object.getOwnPropertyDescriptor,Bt=Object.getPrototypeOf,Gt=Object.prototype,$t=Array.prototype;function Yt(t,e,n){if("string"!=typeof e){var r=Bt(e);r&&r!==Gt&&Yt(t,r,n);for(var o=$t.concat(Dt(e),Ft(e)),i=Mt[t.$$typeof]||Pt,a=Mt[e.$$typeof]||Pt,s=o.length,c=void 0,u=void 0;s--;)if(u=o[s],!(_t[u]||n&&n[u]||a&&a[u]||i&&i[u])&&(c=Lt(e,u)))try{kt(t,u,c)}catch(t){}return t}return t}var qt=Object(s.createContext)(),Jt=qt.Consumer,Ut=function(t){function e(n){y(this,e);var r=b(this,t.call(this,n));return r.getContext=Object(d.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}return S(e,t),e.prototype.render=function(){return this.props.children?c.a.createElement(qt.Consumer,null,this.renderInner):null},e.prototype.renderInner=function(t){var e=this.getContext(this.props.theme,t);return c.a.createElement(qt.Provider,{value:e},this.props.children)},e.prototype.getTheme=function(t,e){if(j(t))return t(e);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":m(t)))throw new x(8);return g({},e,t)},e.prototype.getContext=function(t,e){return this.getTheme(t,e)},e}(s.Component),Wt=function(){function t(){y(this,t),this.masterSheet=dt.master,this.instance=this.masterSheet.clone(),this.sealed=!1}return t.prototype.seal=function(){if(!this.sealed){var t=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(t,1),this.sealed=!0}},t.prototype.collectStyles=function(t){if(this.sealed)throw new x(2);return c.a.createElement(Vt,{sheet:this.instance},t)},t.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},t.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},t.prototype.interleaveWithNodeStream=function(t){throw new x(3)},t}(),zt=Object(s.createContext)(),Kt=zt.Consumer,Vt=function(t){function e(n){y(this,e);var r=b(this,t.call(this,n));return r.getContext=Object(d.a)(r.getContext),r}return S(e,t),e.prototype.getContext=function(t,e){if(t)return t;if(e)return new dt(e);throw new x(4)},e.prototype.render=function(){var t=this.props,e=t.children,n=t.sheet,r=t.target;return c.a.createElement(zt.Provider,{value:this.getContext(n,r)},e)},e}(s.Component),Zt={};var Qt=function(t){function e(){y(this,e);var n=b(this,t.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return S(e,t),e.prototype.render=function(){return c.a.createElement(Kt,null,this.renderOuter)},e.prototype.renderOuter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt.master;return this.styleSheet=t,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():c.a.createElement(Jt,null,this.renderInner)},e.prototype.renderInner=function(t){var e=this.props.forwardedComponent,n=e.componentStyle,r=e.defaultProps,o=(e.displayName,e.foldedComponentIds),i=e.styledComponentId,a=e.target,c=void 0;c=n.isStatic?this.generateAndInjectStyles(I,this.props):this.generateAndInjectStyles(Et(this.props,t,r)||I,this.props);var u=this.props.as||this.attrs.as||a,l=xt(u),d={},p=g({},this.props,this.attrs),h=void 0;for(h in p)"forwardedComponent"!==h&&"as"!==h&&("forwardedRef"===h?d.ref=p[h]:"forwardedAs"===h?d.as=p[h]:l&&!Object(f.a)(h)||(d[h]=p[h]));return this.props.style&&this.attrs.style&&(d.style=g({},this.attrs.style,this.props.style)),d.className=Array.prototype.concat(o,i,c!==i?c:null,this.props.className,this.attrs.className).filter(Boolean).join(" "),Object(s.createElement)(u,d)},e.prototype.buildExecutionContext=function(t,e,n){var r=this,o=g({},e,{theme:t});return n.length?(this.attrs={},n.forEach((function(t){var e,n=t,i=!1,a=void 0,s=void 0;for(s in j(n)&&(n=n(o),i=!0),n)a=n[s],i||!j(a)||(e=a)&&e.prototype&&e.prototype.isReactComponent||A(a)||(a=a(o)),r.attrs[s]=a,o[s]=a})),o):o},e.prototype.generateAndInjectStyles=function(t,e){var n=e.forwardedComponent,r=n.attrs,o=n.componentStyle;n.warnTooManyClasses;return o.isStatic&&!r.length?o.generateAndInjectStyles(I,this.styleSheet):o.generateAndInjectStyles(this.buildExecutionContext(t,e,r),this.styleSheet)},e}(s.Component);function Xt(t,e,n){var r=A(t),o=!xt(t),i=e.displayName,a=void 0===i?function(t){return xt(t)?"styled."+t:"Styled("+O(t)+")"}(t):i,s=e.componentId,u=void 0===s?function(t,e,n){var r="string"!=typeof e?"sc":Rt(e),o=(Zt[r]||0)+1;Zt[r]=o;var i=r+"-"+t.generateName(r+o);return n?n+"-"+i:i}(At,e.displayName,e.parentComponentId):s,l=e.ParentComponent,d=void 0===l?Qt:l,f=e.attrs,h=void 0===f?w:f,m=e.displayName&&e.componentId?Rt(e.displayName)+"-"+e.componentId:e.componentId||u,y=r&&t.attrs?Array.prototype.concat(t.attrs,h).filter(Boolean):h,v=new At(r?t.componentStyle.rules.concat(n):n,y,m),S=void 0,b=function(t,e){return c.a.createElement(d,g({},t,{forwardedComponent:S,forwardedRef:e}))};return b.displayName=a,(S=c.a.forwardRef(b)).displayName=a,S.attrs=y,S.componentStyle=v,S.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):w,S.styledComponentId=m,S.target=r?t.target:t,S.withComponent=function(t){var r=e.componentId,o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["componentId"]),i=r&&r+"-"+(xt(t)?t:Rt(O(t)));return Xt(t,g({},o,{attrs:y,componentId:i,ParentComponent:d}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?Object(p.a)(t.defaultProps,e):e}}),S.toString=function(){return"."+S.styledComponentId},o&&Yt(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var te=function(t){return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;if(!Object(l.isValidElementType)(n))throw new x(1,String(n));var o=function(){return e(n,r,St.apply(void 0,arguments))};return o.withConfig=function(o){return t(e,n,g({},r,o))},o.attrs=function(o){return t(e,n,g({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},o}(Xt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){te[t]=te(t)}));var ee=function(){function t(e,n){y(this,t),this.rules=e,this.componentId=n,this.isStatic=It(e,w),dt.master.hasId(n)||dt.master.deferredInject(n,[])}return t.prototype.createStyles=function(t,e){var n=J(gt(this.rules,t,e),"");e.inject(this.componentId,n)},t.prototype.removeStyles=function(t){var e=this.componentId;t.hasId(e)&&t.remove(e)},t.prototype.renderStyles=function(t,e){this.removeStyles(e),this.createStyles(t,e)},t}();function ne(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=St.apply(void 0,[t].concat(n)),i="sc-global-"+bt(JSON.stringify(o)),a=new ee(o,i),s=function(t){function e(n){y(this,e);var r=b(this,t.call(this,n)),o=r.constructor,i=o.globalStyle,a=o.styledComponentId;return T&&(window.scCGSHMRCache[a]=(window.scCGSHMRCache[a]||0)+1),r.state={globalStyle:i,styledComponentId:a},r}return S(e,t),e.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},e.prototype.render=function(){var t=this;return c.a.createElement(Kt,null,(function(e){t.styleSheet=e||dt.master;var n=t.state.globalStyle;return n.isStatic?(n.renderStyles(R,t.styleSheet),null):c.a.createElement(Jt,null,(function(e){var r=t.constructor.defaultProps,o=g({},t.props);return void 0!==e&&(o.theme=Et(t.props,e,r)),n.renderStyles(o,t.styleSheet),null}))}))},e}(c.a.Component);return s.globalStyle=a,s.styledComponentId=i,s}T&&(window.scCGSHMRCache={});var re=function(t){return t.replace(/\s|\\n/g,"")};function oe(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=St.apply(void 0,[t].concat(n)),i=wt(bt(re(JSON.stringify(o))));return new ft(i,J(o,i,"@keyframes"))}var ie=function(t){var e=c.a.forwardRef((function(e,n){return c.a.createElement(Jt,null,(function(r){var o=t.defaultProps,i=Et(e,r,o);return c.a.createElement(t,g({},e,{theme:i,ref:n}))}))}));return Yt(e,t),e.displayName="WithTheme("+O(t)+")",e},ae={StyleSheet:dt};e.default=te}.call(this,n(168))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGVkLWNvbXBvbmVudHMvZGlzdC9zdHlsZWQtY29tcG9uZW50cy5icm93c2VyLmVzbS5qcyJdLCJuYW1lcyI6WyJpbnRlcmxlYXZlIiwic3RyaW5ncyIsImludGVycG9sYXRpb25zIiwicmVzdWx0IiwiaSIsImxlbiIsImxlbmd0aCIsInB1c2giLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImNsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImNyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInZhbHVlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiaXNQbGFpbk9iamVjdCIsIngiLCJFTVBUWV9BUlJBWSIsImZyZWV6ZSIsIkVNUFRZX09CSkVDVCIsImlzRnVuY3Rpb24iLCJ0ZXN0IiwiZ2V0Q29tcG9uZW50TmFtZSIsImRpc3BsYXlOYW1lIiwibmFtZSIsImlzU3R5bGVkQ29tcG9uZW50Iiwic3R5bGVkQ29tcG9uZW50SWQiLCJTQ19BVFRSIiwicHJvY2VzcyIsImVudiIsIlJFQUNUX0FQUF9TQ19BVFRSIiwiSVNfQlJPV1NFUiIsIndpbmRvdyIsIkRJU0FCTEVfU1BFRURZIiwiU0NfRElTQUJMRV9TUEVFRFkiLCJSRUFDVF9BUFBfU0NfRElTQUJMRV9TUEVFRFkiLCJTVEFUSUNfRVhFQ1VUSU9OX0NPTlRFWFQiLCJTdHlsZWRDb21wb25lbnRzRXJyb3IiLCJfRXJyb3IiLCJjb2RlIiwidGhpcyIsIl9sZW4iLCJBcnJheSIsIl9rZXkiLCJfdGhpcyIsImpvaW4iLCJFcnJvciIsIlNDX0NPTVBPTkVOVF9JRCIsImV4dHJhY3RDb21wcyIsIm1heWJlQ1NTIiwiY3NzIiwiZXhpc3RpbmdDb21wb25lbnRzIiwicmVwbGFjZSIsIm1hdGNoIiwiY29tcG9uZW50SWQiLCJtYXRjaEluZGV4IiwibWFwIiwiX3JlZiIsIm5leHRDb21wIiwiY3NzRnJvbURPTSIsInNsaWNlIiwiQ09NTUVOVF9SRUdFWCIsInN0eWxpc1NwbGl0dGVyIiwiZ2xvYmFsIiwiY2FzY2FkZSIsImtleWZyYW1lIiwicHJlZml4IiwiY29tcHJlc3MiLCJzZW1pY29sb24iLCJzdHlsaXMiLCJwYXJzaW5nUnVsZXMiLCJyZXR1cm5SdWxlc1BsdWdpbiIsImNvbnRleHQiLCJwYXJzZWRSdWxlcyIsInBhcnNlUnVsZXNQbHVnaW4iLCJydWxlIiwiX2NvbXBvbmVudElkIiwiX3NlbGVjdG9yIiwiX3NlbGVjdG9yUmVnZXhwIiwic2VsZlJlZmVyZW5jZVJlcGxhY2VyIiwib2Zmc2V0Iiwic3RyaW5nIiwiaW5kZXhPZiIsInVzZSIsIl8iLCJzZWxlY3RvcnMiLCJsYXN0SW5kZXhPZiIsInNwbGl0QnlSdWxlcyIsInN0cmluZ2lmeVJ1bGVzIiwicnVsZXMiLCJzZWxlY3RvciIsInVuZGVmaW5lZCIsImZsYXRDU1MiLCJjc3NTdHIiLCJSZWdFeHAiLCJnZXROb25jZSIsImFkZE5hbWVGb3JJZCIsIm5hbWVzIiwiaWQiLCJyZXNldElkTmFtZXMiLCJoYXNOYW1lRm9ySWQiLCJzdHJpbmdpZnlOYW1lcyIsInN0ciIsImtleXMiLCJ0cmltIiwic2hlZXRGb3JUYWciLCJ0YWciLCJzaGVldCIsInNpemUiLCJvd25lckRvY3VtZW50Iiwic3R5bGVTaGVldHMiLCJvd25lck5vZGUiLCJzYWZlSW5zZXJ0UnVsZSIsImNzc1J1bGUiLCJpbmRleCIsIm1heEluZGV4IiwiY3NzUnVsZXMiLCJpbnNlcnRSdWxlIiwiZXJyIiwibWFrZVRleHRNYXJrZXIiLCJhZGRVcFVudGlsSW5kZXgiLCJzaXplcyIsInRvdGFsVXBUb0luZGV4Iiwid3JhcEFzSHRtbFRhZyIsImFkZGl0aW9uYWxBdHRycyIsIm5vbmNlIiwiU0NfVkVSU0lPTl9BVFRSIiwiZmlsdGVyIiwiQm9vbGVhbiIsIndyYXBBc0VsZW1lbnQiLCJfcHJvcHMiLCJjcmVhdGVFbGVtZW50IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJnZXRJZHNGcm9tTWFya2Vyc0ZhY3RvcnkiLCJtYXJrZXJzIiwibWFrZVRleHROb2RlIiwidGFyZ2V0RG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm1ha2VTZXJ2ZXJUYWciLCJuYW1lc0FyZyIsIm1hcmtlcnNBcmciLCJpbnNlcnRNYXJrZXIiLCJwcmV2IiwiY3NzRm9ySWQiLCJjbG9uZSIsIm5hbWVzQ2xvbmUiLCJjbG9uZU5hbWVzIiwibWFya2Vyc0Nsb25lIiwiZ2V0SWRzIiwiaW5zZXJ0UnVsZXMiLCJyZW1vdmVSdWxlcyIsIm1hcmtlciIsInNlYWxlZCIsInN0eWxlVGFnIiwidG9FbGVtZW50IiwidG9IVE1MIiwibWFrZVRhZyIsInRhZ0VsIiwiZm9yY2VTZXJ2ZXIiLCJpbnNlcnRCZWZvcmUiLCJnZXRJbXBvcnRSdWxlVGFnIiwiZWwiLCJkb2N1bWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsIm5leHRTaWJsaW5nIiwibWFrZVN0eWxlVGFnIiwiZXh0cmFjdEltcG9ydCIsInVzZWRJbXBvcnRSdWxlVGFnIiwiZGF0YSIsImltcG9ydFJ1bGVzIiwiY3NzUnVsZXNTaXplIiwibWF5SGF2ZUltcG9ydCIsInNlcGFyYXRvciIsImFwcGVuZERhdGEiLCJuZXdNYXJrZXIiLCJyZXBsYWNlQ2hpbGQiLCJtYWtlQnJvd3NlclRhZyIsImVuZCIsImNzc1RleHQiLCJpbnNlcnRJbmRleCIsImluamVjdGVkUnVsZXMiLCJpc0Nvbm5lY3RlZCIsInJlbW92YWxJbmRleCIsImxvd2VyQm91bmQiLCJkZWxldGVSdWxlIiwiZGVsZXRlUnVsZXMiLCJtYWtlU3BlZWR5VGFnIiwiU1BMSVRfUkVHRVgiLCJNQVhfU0laRSIsInNoZWV0UnVubmluZ0lkIiwibWFzdGVyIiwiU3R5bGVTaGVldCIsImhlYWQiLCJpbXBvcnRSdWxlVGFnIiwiZmlyc3RUYWciLCJ0YWdzIiwidGFnTWFwIiwiZGVmZXJyZWQiLCJyZWh5ZHJhdGVkTmFtZXMiLCJpZ25vcmVSZWh5ZHJhdGVkTmFtZXMiLCJjYXBhY2l0eSIsImNsb25lcyIsInJlaHlkcmF0ZSIsImVscyIsImV4dHJhY3RlZCIsImlzU3RyZWFtZWQiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2Rlc1NpemUiLCJnZXRBdHRyaWJ1dGUiLCJlbE5hbWVzIiwic3BsaXQiLCJlbE5hbWVzU2l6ZSIsImoiLCJhcHBseSIsInRleHRDb250ZW50IiwiZXh0cmFjdGVkU2l6ZSIsIl9leHRyYWN0ZWQkaSIsIl9pIiwicmVtb3ZlQ2hpbGQiLCJNYXRoIiwibWF4IiwiX2oiLCJyZXNldCIsImlkcyIsIm5ld1RhZyIsInNlYWxBbGxUYWdzIiwiZm9yRWFjaCIsImxhc3RFbCIsImdldFRhZ0ZvcklkIiwiaGFzSWQiLCJkZWZlcnJlZEluamVjdCIsImluamVjdCIsImNvbmNhdCIsInJlbW92ZSIsInRvUmVhY3RFbGVtZW50cyIsImdldCIsIktleWZyYW1lcyIsInN0eWxlU2hlZXQiLCJ0b1N0cmluZyIsIlN0cmluZyIsImdldE5hbWUiLCJ1cHBlcmNhc2VQYXR0ZXJuIiwibXNQYXR0ZXJuIiwiaHlwaGVuYXRlU3R5bGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpc0ZhbHNpc2giLCJjaHVuayIsIm9ialRvQ3NzQXJyYXkiLCJwcmV2S2V5IiwiZmxhdHRlbiIsImV4ZWN1dGlvbkNvbnRleHQiLCJpc0FycmF5IiwicnVsZVNldCIsImlzUmVhY3RDb21wb25lbnQiLCJzdHlsZXMiLCJtdXJtdXJoYXNoIiwiYyIsImIiLCJlIiwiYSIsImQiLCJjaGFyQ29kZUF0IiwiZ2V0QWxwaGFiZXRpY0NoYXIiLCJmcm9tQ2hhckNvZGUiLCJnZW5lcmF0ZUFscGhhYmV0aWNOYW1lIiwiZmxvb3IiLCJpc1N0YXRpY1J1bGVzIiwiYXR0cnMiLCJzb21lIiwiaGFzRnVuY3Rpb25PYmplY3RLZXkiLCJfVFlQRV9TVEFUSUNTIiwiaGFzaGVyIiwiQ29tcG9uZW50U3R5bGUiLCJpc1N0YXRpYyIsImdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzIiwibGFzdENsYXNzTmFtZSIsImdlbmVyYXRlTmFtZSIsImRldGVybWluZVRoZW1lIiwiZmFsbGJhY2tUaGVtZSIsImRlZmF1bHRQcm9wcyIsImlzRGVmYXVsdFRoZW1lIiwidGhlbWUiLCJlc2NhcGVSZWdleCIsImRhc2hlc0F0RW5kcyIsImVzY2FwZSIsImlzVGFnIiwiUkVBQ1RfU1RBVElDUyIsImNoaWxkQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGVzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwicHJvcFR5cGVzIiwidHlwZSIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJjYWxsZWUiLCJhcml0eSIsIlRZUEVfU1RBVElDUyIsIiQkdHlwZW9mIiwicmVuZGVyIiwiZGVmaW5lUHJvcGVydHkkMSIsImdldE93blByb3BlcnR5TmFtZXMiLCJfT2JqZWN0JGdldE93blByb3BlcnQiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvdHlwZSIsImFycmF5UHJvdG90eXBlIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJibGFja2xpc3QiLCJpbmhlcml0ZWRDb21wb25lbnQiLCJ0YXJnZXRTdGF0aWNzIiwic291cmNlU3RhdGljcyIsIlRoZW1lQ29udGV4dCIsIlRoZW1lQ29uc3VtZXIiLCJDb25zdW1lciIsIlRoZW1lUHJvdmlkZXIiLCJfQ29tcG9uZW50IiwiZ2V0Q29udGV4dCIsImJpbmQiLCJyZW5kZXJJbm5lciIsImNoaWxkcmVuIiwib3V0ZXJUaGVtZSIsIlByb3ZpZGVyIiwiZ2V0VGhlbWUiLCJTZXJ2ZXJTdHlsZVNoZWV0IiwibWFzdGVyU2hlZXQiLCJzZWFsIiwic3BsaWNlIiwiY29sbGVjdFN0eWxlcyIsIlN0eWxlU2hlZXRNYW5hZ2VyIiwiZ2V0U3R5bGVUYWdzIiwiZ2V0U3R5bGVFbGVtZW50IiwiaW50ZXJsZWF2ZVdpdGhOb2RlU3RyZWFtIiwicmVhZGFibGVTdHJlYW0iLCJTdHlsZVNoZWV0Q29udGV4dCIsIlN0eWxlU2hlZXRDb25zdW1lciIsImlkZW50aWZpZXJzIiwiU3R5bGVkQ29tcG9uZW50IiwicmVuZGVyT3V0ZXIiLCJmb3J3YXJkZWRDb21wb25lbnQiLCJjb21wb25lbnRTdHlsZSIsIl9wcm9wcyRmb3J3YXJkZWRDb21wbyIsImZvbGRlZENvbXBvbmVudElkcyIsImdlbmVyYXRlZENsYXNzTmFtZSIsImVsZW1lbnRUb0JlQ3JlYXRlZCIsImFzIiwiaXNUYXJnZXRUYWciLCJwcm9wc0ZvckVsZW1lbnQiLCJjb21wdXRlZFByb3BzIiwicmVmIiwic3R5bGUiLCJjbGFzc05hbWUiLCJidWlsZEV4ZWN1dGlvbkNvbnRleHQiLCJfdGhpczIiLCJhdHRyRGVmIiwiZm4iLCJyZXNvbHZlZEF0dHJEZWYiLCJhdHRyRGVmV2FzRm4iLCJhdHRyIiwiX3Byb3BzJGZvcndhcmRlZENvbXBvMiIsIndhcm5Ub29NYW55Q2xhc3NlcyIsImNyZWF0ZVN0eWxlZENvbXBvbmVudCIsIm9wdGlvbnMiLCJpc1RhcmdldFN0eWxlZENvbXAiLCJpc0NsYXNzIiwiX29wdGlvbnMkZGlzcGxheU5hbWUiLCJnZW5lcmF0ZURpc3BsYXlOYW1lIiwiX29wdGlvbnMkY29tcG9uZW50SWQiLCJfQ29tcG9uZW50U3R5bGUiLCJfZGlzcGxheU5hbWUiLCJwYXJlbnRDb21wb25lbnRJZCIsIm5yIiwiZ2VuZXJhdGVJZCIsIl9vcHRpb25zJFBhcmVudENvbXBvbiIsIlBhcmVudENvbXBvbmVudCIsIl9vcHRpb25zJGF0dHJzIiwiZmluYWxBdHRycyIsIldyYXBwZWRTdHlsZWRDb21wb25lbnQiLCJmb3J3YXJkUmVmIiwiZm9yd2FyZGVkUmVmIiwid2l0aENvbXBvbmVudCIsInByZXZpb3VzQ29tcG9uZW50SWQiLCJvcHRpb25zVG9Db3B5Iiwib2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJuZXdDb21wb25lbnRJZCIsIl9mb2xkZWREZWZhdWx0UHJvcHMiLCJzZXQiLCJzdHlsZWQiLCJjb25zdHJ1Y3RXaXRoT3B0aW9ucyIsImNvbXBvbmVudENvbnN0cnVjdG9yIiwidGVtcGxhdGVGdW5jdGlvbiIsIndpdGhDb25maWciLCJjb25maWciLCJkb21FbGVtZW50IiwiR2xvYmFsU3R5bGUiLCJjcmVhdGVTdHlsZXMiLCJyZW1vdmVTdHlsZXMiLCJyZW5kZXJTdHlsZXMiLCJjcmVhdGVHbG9iYWxTdHlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJHbG9iYWxTdHlsZUNvbXBvbmVudCIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpcyRjb25zdHJ1Y3RvciIsImdsb2JhbFN0eWxlIiwic2NDR1NITVJDYWNoZSIsInN0YXRlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJDb21wb25lbnQiLCJyZXBsYWNlV2hpdGVzcGFjZSIsImtleWZyYW1lcyIsIndpdGhUaGVtZSIsIkNvbXBvbmVudCQkMSIsIldpdGhUaGVtZSIsInRoZW1lUHJvcCIsIl9fRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9IQVVOVEVEX0JZX1NQT09LWV9HSE9TVFMiXSwibWFwcGluZ3MiOiIyRkFBQSw0d0JBWUlBLEVBQWEsU0FBV0MsRUFBU0MsR0FHbkMsSUFGQSxJQUFJQyxFQUFTLENBQUNGLEVBQVEsSUFFYkcsRUFBSSxFQUFHQyxFQUFNSCxF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QUFlcFMsRUFBT3dTLEVBQU9GLEdBTzdDLE9BQU8sSUFBTXhKLGNBQWMrUixFQUFjbmEsRUFBUyxHQUFJVixFQUFPLENBQUV3UyxNQUFPdUksRUFBV2pFLElBQUtBLFdBUzVGLE9BSkE1QyxHQUFxQjRHLEVBQVdELEdBRWhDQyxFQUFVNVksWUFBYyxhQUFlRCxFQUFpQjRZLEdBQWdCLElBRWpFQyxHQU1MRSxHQUF1RCxDQUN6RG5PLFdBQVlBLElBeUJDLGMiLCJmaWxlIjoibnBtLnN0eWxlZC1jb21wb25lbnRzLjBhODYwODg5ZDE0MTY1OTA0ZDJjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0eWxpcyBmcm9tICdzdHlsaXMvc3R5bGlzLm1pbic7XG5pbXBvcnQgX2luc2VydFJ1bGVQbHVnaW4gZnJvbSAnc3R5bGlzLXJ1bGUtc2hlZXQnO1xuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgY3JlYXRlQ29udGV4dCwgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVuaXRsZXNzIGZyb20gJ0BlbW90aW9uL3VuaXRsZXNzJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNWYWxpZEVsZW1lbnRUeXBlLCBGb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QtaXMnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB2YWxpZEF0dHIgZnJvbSAnQGVtb3Rpb24vaXMtcHJvcC12YWxpZCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbWVyZ2UtYW55dGhpbmcnO1xuXG4vLyBcblxudmFyIGludGVybGVhdmUgPSAoZnVuY3Rpb24gKHN0cmluZ3MsIGludGVycG9sYXRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBbc3RyaW5nc1swXV07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGludGVycG9sYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgcmVzdWx0LnB1c2goaW50ZXJwb2xhdGlvbnNbaV0sIHN0cmluZ3NbaSArIDFdKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG52YXIgb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gIHZhciB0YXJnZXQgPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG4vLyBcbnZhciBpc1BsYWluT2JqZWN0ID0gKGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiAodHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHgpKSA9PT0gJ29iamVjdCcgJiYgeC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufSk7XG5cbi8vIFxudmFyIEVNUFRZX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG52YXIgRU1QVFlfT0JKRUNUID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbi8vIFxuZnVuY3Rpb24gaXNGdW5jdGlvbih0ZXN0KSB7XG4gIHJldHVybiB0eXBlb2YgdGVzdCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLy8gXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUodGFyZ2V0KSB7XG4gIHJldHVybiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmIHRhcmdldCA6IGZhbHNlKSB8fCB0YXJnZXQuZGlzcGxheU5hbWUgfHwgdGFyZ2V0Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG59XG5cbi8vIFxuZnVuY3Rpb24gaXNTdGF0ZWxlc3NGdW5jdGlvbih0ZXN0KSB7XG4gIHJldHVybiB0eXBlb2YgdGVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiAhKHRlc3QucHJvdG90eXBlICYmIHRlc3QucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG4vLyBcbmZ1bmN0aW9uIGlzU3R5bGVkQ29tcG9uZW50KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQuc3R5bGVkQ29tcG9uZW50SWQgPT09ICdzdHJpbmcnO1xufVxuXG4vLyBcblxudmFyIFNDX0FUVFIgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHByb2Nlc3MuZW52LlJFQUNUX0FQUF9TQ19BVFRSIHx8IHByb2Nlc3MuZW52LlNDX0FUVFIpIHx8ICdkYXRhLXN0eWxlZCc7XG5cbnZhciBTQ19WRVJTSU9OX0FUVFIgPSAnZGF0YS1zdHlsZWQtdmVyc2lvbic7XG5cbnZhciBTQ19TVFJFQU1fQVRUUiA9ICdkYXRhLXN0eWxlZC1zdHJlYW1lZCc7XG5cbnZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0hUTUxFbGVtZW50JyBpbiB3aW5kb3c7XG5cbnZhciBESVNBQkxFX1NQRUVEWSA9IHR5cGVvZiBTQ19ESVNBQkxFX1NQRUVEWSA9PT0gJ2Jvb2xlYW4nICYmIFNDX0RJU0FCTEVfU1BFRURZIHx8IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAocHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZIHx8IHByb2Nlc3MuZW52LlNDX0RJU0FCTEVfU1BFRURZKSB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xuXG4vLyBTaGFyZWQgZW1wdHkgZXhlY3V0aW9uIGNvbnRleHQgd2hlbiBnZW5lcmF0aW5nIHN0YXRpYyBzdHlsZXNcbnZhciBTVEFUSUNfRVhFQ1VUSU9OX0NPTlRFWFQgPSB7fTtcblxuLy8gXG5cblxuLyoqXG4gKiBQYXJzZSBlcnJvcnMubWQgYW5kIHR1cm4gaXQgaW50byBhIHNpbXBsZSBoYXNoIG9mIGNvZGU6IG1lc3NhZ2VcbiAqL1xudmFyIEVSUk9SUyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7XG4gIFwiMVwiOiBcIkNhbm5vdCBjcmVhdGUgc3R5bGVkLWNvbXBvbmVudCBmb3IgY29tcG9uZW50OiAlcy5cXG5cXG5cIixcbiAgXCIyXCI6IFwiQ2FuJ3QgY29sbGVjdCBzdHlsZXMgb25jZSB5b3UndmUgY29uc3VtZWQgYSBgU2VydmVyU3R5bGVTaGVldGAncyBzdHlsZXMhIGBTZXJ2ZXJTdHlsZVNoZWV0YCBpcyBhIG9uZSBvZmYgaW5zdGFuY2UgZm9yIGVhY2ggc2VydmVyLXNpZGUgcmVuZGVyIGN5Y2xlLlxcblxcbi0gQXJlIHlvdSB0cnlpbmcgdG8gcmV1c2UgaXQgYWNyb3NzIHJlbmRlcnM/XFxuLSBBcmUgeW91IGFjY2lkZW50YWxseSBjYWxsaW5nIGNvbGxlY3RTdHlsZXMgdHdpY2U/XFxuXFxuXCIsXG4gIFwiM1wiOiBcIlN0cmVhbWluZyBTU1IgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50OyBQbGVhc2UgZG8gbm90IHRyeSB0byBjYWxsIHRoaXMgbWV0aG9kIGluIHRoZSBicm93c2VyLlxcblxcblwiLFxuICBcIjRcIjogXCJUaGUgYFN0eWxlU2hlZXRNYW5hZ2VyYCBleHBlY3RzIGEgdmFsaWQgdGFyZ2V0IG9yIHNoZWV0IHByb3AhXFxuXFxuLSBEb2VzIHRoaXMgZXJyb3Igb2NjdXIgb24gdGhlIGNsaWVudCBhbmQgaXMgeW91ciB0YXJnZXQgZmFsc3k/XFxuLSBEb2VzIHRoaXMgZXJyb3Igb2NjdXIgb24gdGhlIHNlcnZlciBhbmQgaXMgdGhlIHNoZWV0IGZhbHN5P1xcblxcblwiLFxuICBcIjVcIjogXCJUaGUgY2xvbmUgbWV0aG9kIGNhbm5vdCBiZSB1c2VkIG9uIHRoZSBjbGllbnQhXFxuXFxuLSBBcmUgeW91IHJ1bm5pbmcgaW4gYSBjbGllbnQtbGlrZSBlbnZpcm9ubWVudCBvbiB0aGUgc2VydmVyP1xcbi0gQXJlIHlvdSB0cnlpbmcgdG8gcnVuIFNTUiBvbiB0aGUgY2xpZW50P1xcblxcblwiLFxuICBcIjZcIjogXCJUcnlpbmcgdG8gaW5zZXJ0IGEgbmV3IHN0eWxlIHRhZywgYnV0IHRoZSBnaXZlbiBOb2RlIGlzIHVubW91bnRlZCFcXG5cXG4tIEFyZSB5b3UgdXNpbmcgYSBjdXN0b20gdGFyZ2V0IHRoYXQgaXNuJ3QgbW91bnRlZD9cXG4tIERvZXMgeW91ciBkb2N1bWVudCBub3QgaGF2ZSBhIHZhbGlkIGhlYWQgZWxlbWVudD9cXG4tIEhhdmUgeW91IGFjY2lkZW50YWxseSByZW1vdmVkIGEgc3R5bGUgdGFnIG1hbnVhbGx5P1xcblxcblwiLFxuICBcIjdcIjogXCJUaGVtZVByb3ZpZGVyOiBQbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHlvdXIgXFxcInRoZW1lXFxcIiBwcm9wIGZ1bmN0aW9uLCBlLmcuXFxuXFxuYGBganNcXG50aGVtZT17KCkgPT4gKHt9KX1cXG5gYGBcXG5cXG5cIixcbiAgXCI4XCI6IFwiVGhlbWVQcm92aWRlcjogUGxlYXNlIG1ha2UgeW91ciBcXFwidGhlbWVcXFwiIHByb3AgYW4gb2JqZWN0LlxcblxcblwiLFxuICBcIjlcIjogXCJNaXNzaW5nIGRvY3VtZW50IGA8aGVhZD5gXFxuXFxuXCIsXG4gIFwiMTBcIjogXCJDYW5ub3QgZmluZCBhIFN0eWxlU2hlZXQgaW5zdGFuY2UuIFVzdWFsbHkgdGhpcyBoYXBwZW5zIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjb3BpZXMgb2Ygc3R5bGVkLWNvbXBvbmVudHMgbG9hZGVkIGF0IG9uY2UuIENoZWNrIG91dCB0aGlzIGlzc3VlIGZvciBob3cgdG8gdHJvdWJsZXNob290IGFuZCBmaXggdGhlIGNvbW1vbiBjYXNlcyB3aGVyZSB0aGlzIHNpdHVhdGlvbiBjYW4gaGFwcGVuOiBodHRwczovL2dpdGh1Yi5jb20vc3R5bGVkLWNvbXBvbmVudHMvc3R5bGVkLWNvbXBvbmVudHMvaXNzdWVzLzE5NDEjaXNzdWVjb21tZW50LTQxNzg2MjAyMVxcblxcblwiLFxuICBcIjExXCI6IFwiX1RoaXMgZXJyb3Igd2FzIHJlcGxhY2VkIHdpdGggYSBkZXYtdGltZSB3YXJuaW5nLCBpdCB3aWxsIGJlIGRlbGV0ZWQgZm9yIHY0IGZpbmFsLl8gW2NyZWF0ZUdsb2JhbFN0eWxlXSByZWNlaXZlZCBjaGlsZHJlbiB3aGljaCB3aWxsIG5vdCBiZSByZW5kZXJlZC4gUGxlYXNlIHVzZSB0aGUgY29tcG9uZW50IHdpdGhvdXQgcGFzc2luZyBjaGlsZHJlbiBlbGVtZW50cy5cXG5cXG5cIixcbiAgXCIxMlwiOiBcIkl0IHNlZW1zIHlvdSBhcmUgaW50ZXJwb2xhdGluZyBhIGtleWZyYW1lIGRlY2xhcmF0aW9uICglcykgaW50byBhbiB1bnRhZ2dlZCBzdHJpbmcuIFRoaXMgd2FzIHN1cHBvcnRlZCBpbiBzdHlsZWQtY29tcG9uZW50cyB2MywgYnV0IGlzIG5vdCBsb25nZXIgc3VwcG9ydGVkIGluIHY0IGFzIGtleWZyYW1lcyBhcmUgbm93IGluamVjdGVkIG9uLWRlbWFuZC4gUGxlYXNlIHdyYXAgeW91ciBzdHJpbmcgaW4gdGhlIGNzc1xcXFxgXFxcXGAgaGVscGVyIHdoaWNoIGVuc3VyZXMgdGhlIHN0eWxlcyBhcmUgaW5qZWN0ZWQgY29ycmVjdGx5LiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYXBpI2Nzc1xcblxcblwiLFxuICBcIjEzXCI6IFwiJXMgaXMgbm90IGEgc3R5bGVkIGNvbXBvbmVudCBhbmQgY2Fubm90IGJlIHJlZmVycmVkIHRvIHZpYSBjb21wb25lbnQgc2VsZWN0b3IuIFNlZSBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9hZHZhbmNlZCNyZWZlcnJpbmctdG8tb3RoZXItY29tcG9uZW50cyBmb3IgbW9yZSBkZXRhaWxzLlxcblwiXG59IDoge307XG5cbi8qKlxuICogc3VwZXIgYmFzaWMgdmVyc2lvbiBvZiBzcHJpbnRmXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdCgpIHtcbiAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07XG4gIHZhciBiID0gW107XG5cbiAgZm9yICh2YXIgYyA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGMgPCBsZW47IGMgKz0gMSkge1xuICAgIGIucHVzaChhcmd1bWVudHMubGVuZ3RoIDw9IGMgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbY10pO1xuICB9XG5cbiAgYi5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgYSA9IGEucmVwbGFjZSgvJVthLXpdLywgZCk7XG4gIH0pO1xuXG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlcnJvciBmaWxlIG91dCBvZiBlcnJvcnMubWQgZm9yIGRldmVsb3BtZW50IGFuZCBhIHNpbXBsZSB3ZWIgbGluayB0byB0aGUgZnVsbCBlcnJvcnNcbiAqIGluIHByb2R1Y3Rpb24gbW9kZS5cbiAqL1xuXG52YXIgU3R5bGVkQ29tcG9uZW50c0Vycm9yID0gZnVuY3Rpb24gKF9FcnJvcikge1xuICBpbmhlcml0cyhTdHlsZWRDb21wb25lbnRzRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gU3R5bGVkQ29tcG9uZW50c0Vycm9yKGNvZGUpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZWRDb21wb25lbnRzRXJyb3IpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGludGVycG9sYXRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgaW50ZXJwb2xhdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FcnJvci5jYWxsKHRoaXMsICdBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9zdHlsZWQtY29tcG9uZW50cy9ibG9iL21hc3Rlci9wYWNrYWdlcy9zdHlsZWQtY29tcG9uZW50cy9zcmMvdXRpbHMvZXJyb3JzLm1kIycgKyBjb2RlICsgJyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nICsgKGludGVycG9sYXRpb25zLmxlbmd0aCA+IDAgPyAnIEFkZGl0aW9uYWwgYXJndW1lbnRzOiAnICsgaW50ZXJwb2xhdGlvbnMuam9pbignLCAnKSA6ICcnKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FcnJvci5jYWxsKHRoaXMsIGZvcm1hdC5hcHBseSh1bmRlZmluZWQsIFtFUlJPUlNbY29kZV1dLmNvbmNhdChpbnRlcnBvbGF0aW9ucykpLnRyaW0oKSkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gIH1cblxuICByZXR1cm4gU3R5bGVkQ29tcG9uZW50c0Vycm9yO1xufShFcnJvcik7XG5cbi8vIFxudmFyIFNDX0NPTVBPTkVOVF9JRCA9IC9eW15cXFNcXG5dKj9cXC9cXCogc2MtY29tcG9uZW50LWlkOlxccyooXFxTKylcXHMrXFwqXFwvL2dtO1xuXG52YXIgZXh0cmFjdENvbXBzID0gKGZ1bmN0aW9uIChtYXliZUNTUykge1xuICB2YXIgY3NzID0gJycgKyAobWF5YmVDU1MgfHwgJycpOyAvLyBEZWZpbml0ZWx5IGEgc3RyaW5nLCBhbmQgYSBjbG9uZVxuICB2YXIgZXhpc3RpbmdDb21wb25lbnRzID0gW107XG4gIGNzcy5yZXBsYWNlKFNDX0NPTVBPTkVOVF9JRCwgZnVuY3Rpb24gKG1hdGNoLCBjb21wb25lbnRJZCwgbWF0Y2hJbmRleCkge1xuICAgIGV4aXN0aW5nQ29tcG9uZW50cy5wdXNoKHsgY29tcG9uZW50SWQ6IGNvbXBvbmVudElkLCBtYXRjaEluZGV4OiBtYXRjaEluZGV4IH0pO1xuICAgIHJldHVybiBtYXRjaDtcbiAgfSk7XG4gIHJldHVybiBleGlzdGluZ0NvbXBvbmVudHMubWFwKGZ1bmN0aW9uIChfcmVmLCBpKSB7XG4gICAgdmFyIGNvbXBvbmVudElkID0gX3JlZi5jb21wb25lbnRJZCxcbiAgICAgICAgbWF0Y2hJbmRleCA9IF9yZWYubWF0Y2hJbmRleDtcblxuICAgIHZhciBuZXh0Q29tcCA9IGV4aXN0aW5nQ29tcG9uZW50c1tpICsgMV07XG4gICAgdmFyIGNzc0Zyb21ET00gPSBuZXh0Q29tcCA/IGNzcy5zbGljZShtYXRjaEluZGV4LCBuZXh0Q29tcC5tYXRjaEluZGV4KSA6IGNzcy5zbGljZShtYXRjaEluZGV4KTtcbiAgICByZXR1cm4geyBjb21wb25lbnRJZDogY29tcG9uZW50SWQsIGNzc0Zyb21ET006IGNzc0Zyb21ET00gfTtcbiAgfSk7XG59KTtcblxuLy8gXG5cbnZhciBDT01NRU5UX1JFR0VYID0gL15cXHMqXFwvXFwvLiokL2dtO1xuXG4vLyBOT1RFOiBUaGlzIHN0eWxpcyBpbnN0YW5jZSBpcyBvbmx5IHVzZWQgdG8gc3BsaXQgcnVsZXMgZnJvbSBTU1InZCBzdHlsZSB0YWdzXG52YXIgc3R5bGlzU3BsaXR0ZXIgPSBuZXcgU3R5bGlzKHtcbiAgZ2xvYmFsOiBmYWxzZSxcbiAgY2FzY2FkZTogdHJ1ZSxcbiAga2V5ZnJhbWU6IGZhbHNlLFxuICBwcmVmaXg6IGZhbHNlLFxuICBjb21wcmVzczogZmFsc2UsXG4gIHNlbWljb2xvbjogdHJ1ZVxufSk7XG5cbnZhciBzdHlsaXMgPSBuZXcgU3R5bGlzKHtcbiAgZ2xvYmFsOiBmYWxzZSxcbiAgY2FzY2FkZTogdHJ1ZSxcbiAga2V5ZnJhbWU6IGZhbHNlLFxuICBwcmVmaXg6IHRydWUsXG4gIGNvbXByZXNzOiBmYWxzZSxcbiAgc2VtaWNvbG9uOiBmYWxzZSAvLyBOT1RFOiBUaGlzIG1lYW5zIFwiYXV0b2NvbXBsZXRlIG1pc3Npbmcgc2VtaWNvbG9uc1wiXG59KTtcblxuLy8gV3JhcCBgaW5zZXJ0UnVsZVBsdWdpbiB0byBidWlsZCBhIGxpc3Qgb2YgcnVsZXMsXG4vLyBhbmQgdGhlbiBtYWtlIG91ciBvd24gcGx1Z2luIHRvIHJldHVybiB0aGUgcnVsZXMuIFRoaXNcbi8vIG1ha2VzIGl0IGVhc2llciB0byBob29rIGludG8gdGhlIGV4aXN0aW5nIFNTUiBhcmNoaXRlY3R1cmVcblxudmFyIHBhcnNpbmdSdWxlcyA9IFtdO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbnZhciByZXR1cm5SdWxlc1BsdWdpbiA9IGZ1bmN0aW9uIHJldHVyblJ1bGVzUGx1Z2luKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT09IC0yKSB7XG4gICAgdmFyIHBhcnNlZFJ1bGVzID0gcGFyc2luZ1J1bGVzO1xuICAgIHBhcnNpbmdSdWxlcyA9IFtdO1xuICAgIHJldHVybiBwYXJzZWRSdWxlcztcbiAgfVxufTtcblxudmFyIHBhcnNlUnVsZXNQbHVnaW4gPSBfaW5zZXJ0UnVsZVBsdWdpbihmdW5jdGlvbiAocnVsZSkge1xuICBwYXJzaW5nUnVsZXMucHVzaChydWxlKTtcbn0pO1xuXG52YXIgX2NvbXBvbmVudElkID0gdm9pZCAwO1xudmFyIF9zZWxlY3RvciA9IHZvaWQgMDtcbnZhciBfc2VsZWN0b3JSZWdleHAgPSB2b2lkIDA7XG5cbnZhciBzZWxmUmVmZXJlbmNlUmVwbGFjZXIgPSBmdW5jdGlvbiBzZWxmUmVmZXJlbmNlUmVwbGFjZXIobWF0Y2gsIG9mZnNldCwgc3RyaW5nKSB7XG4gIGlmIChcbiAgLy8gdGhlIGZpcnN0IHNlbGYtcmVmIGlzIGFsd2F5cyB1bnRvdWNoZWRcbiAgb2Zmc2V0ID4gMCAmJlxuICAvLyB0aGVyZSBzaG91bGQgYmUgYXQgbGVhc3QgdHdvIHNlbGYtcmVmcyB0byBkbyBhIHJlcGxhY2VtZW50ICguYiA+IC5iKVxuICBzdHJpbmcuc2xpY2UoMCwgb2Zmc2V0KS5pbmRleE9mKF9zZWxlY3RvcikgIT09IC0xICYmXG4gIC8vIG5vIGNvbnNlY3V0aXZlIHNlbGYgcmVmcyAoLmIuYik7IHRoYXQgaXMgYSBwcmVjZWRlbmNlIGJvb3N0IGFuZCB0cmVhdGVkIGRpZmZlcmVudGx5XG4gIHN0cmluZy5zbGljZShvZmZzZXQgLSBfc2VsZWN0b3IubGVuZ3RoLCBvZmZzZXQpICE9PSBfc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gJy4nICsgX2NvbXBvbmVudElkO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoO1xufTtcblxuLyoqXG4gKiBXaGVuIHdyaXRpbmcgYSBzdHlsZSBsaWtlXG4gKlxuICogJiArICYge1xuICogICBjb2xvcjogcmVkO1xuICogfVxuICpcbiAqIFRoZSBzZWNvbmQgYW1wZXJzYW5kIHNob3VsZCBiZSBhIHJlZmVyZW5jZSB0byB0aGUgc3RhdGljIGNvbXBvbmVudCBjbGFzcy4gc3R5bGlzXG4gKiBoYXMgbm8ga25vd2xlZGdlIG9mIHN0YXRpYyBjbGFzcyBzbyB3ZSBoYXZlIHRvIGludGVsbGlnZW50bHkgcmVwbGFjZSB0aGUgYmFzZSBzZWxlY3Rvci5cbiAqL1xudmFyIHNlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbiA9IGZ1bmN0aW9uIHNlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbihjb250ZXh0LCBfLCBzZWxlY3RvcnMpIHtcbiAgaWYgKGNvbnRleHQgPT09IDIgJiYgc2VsZWN0b3JzLmxlbmd0aCAmJiBzZWxlY3RvcnNbMF0ubGFzdEluZGV4T2YoX3NlbGVjdG9yKSA+IDApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBzZWxlY3RvcnNbMF0gPSBzZWxlY3RvcnNbMF0ucmVwbGFjZShfc2VsZWN0b3JSZWdleHAsIHNlbGZSZWZlcmVuY2VSZXBsYWNlcik7XG4gIH1cbn07XG5cbnN0eWxpcy51c2UoW3NlbGZSZWZlcmVuY2VSZXBsYWNlbWVudFBsdWdpbiwgcGFyc2VSdWxlc1BsdWdpbiwgcmV0dXJuUnVsZXNQbHVnaW5dKTtcbnN0eWxpc1NwbGl0dGVyLnVzZShbcGFyc2VSdWxlc1BsdWdpbiwgcmV0dXJuUnVsZXNQbHVnaW5dKTtcblxudmFyIHNwbGl0QnlSdWxlcyA9IGZ1bmN0aW9uIHNwbGl0QnlSdWxlcyhjc3MpIHtcbiAgcmV0dXJuIHN0eWxpc1NwbGl0dGVyKCcnLCBjc3MpO1xufTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5UnVsZXMocnVsZXMsIHNlbGVjdG9yLCBwcmVmaXgpIHtcbiAgdmFyIGNvbXBvbmVudElkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnJic7XG5cbiAgdmFyIGZsYXRDU1MgPSBydWxlcy5qb2luKCcnKS5yZXBsYWNlKENPTU1FTlRfUkVHRVgsICcnKTsgLy8gcmVwbGFjZSBKUyBjb21tZW50c1xuXG4gIHZhciBjc3NTdHIgPSBzZWxlY3RvciAmJiBwcmVmaXggPyBwcmVmaXggKyAnICcgKyBzZWxlY3RvciArICcgeyAnICsgZmxhdENTUyArICcgfScgOiBmbGF0Q1NTO1xuXG4gIC8vIHN0eWxpcyBoYXMgbm8gY29uY2VwdCBvZiBzdGF0ZSB0byBiZSBwYXNzZWQgdG8gcGx1Z2luc1xuICAvLyBidXQgc2luY2UgSlMgaXMgc2luZ2xlPXRocmVhZGVkLCB3ZSBjYW4gcmVseSBvbiB0aGF0IHRvIGVuc3VyZVxuICAvLyB0aGVzZSBwcm9wZXJ0aWVzIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBjdXJyZW50IHN0eWxpcyBydW5cbiAgX2NvbXBvbmVudElkID0gY29tcG9uZW50SWQ7XG4gIF9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICBfc2VsZWN0b3JSZWdleHAgPSBuZXcgUmVnRXhwKCdcXFxcJyArIF9zZWxlY3RvciArICdcXFxcYicsICdnJyk7XG5cbiAgcmV0dXJuIHN0eWxpcyhwcmVmaXggfHwgIXNlbGVjdG9yID8gJycgOiBzZWxlY3RvciwgY3NzU3RyKTtcbn1cblxuLy8gXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIG5vLXVuZGVmICovXG5cbnZhciBnZXROb25jZSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xufSk7XG5cbi8vIFxuLyogVGhlc2UgYXJlIGhlbHBlcnMgZm9yIHRoZSBTdHlsZVRhZ3MgdG8ga2VlcCB0cmFjayBvZiB0aGUgaW5qZWN0ZWRcbiAqIHJ1bGUgbmFtZXMgZm9yIGVhY2ggKGNvbXBvbmVudCkgSUQgdGhhdCB0aGV5J3JlIGtlZXBpbmcgdHJhY2sgb2YuXG4gKiBUaGV5J3JlIGNydWNpYWwgZm9yIGRldGVjdGluZyB3aGV0aGVyIGEgbmFtZSBoYXMgYWxyZWFkeSBiZWVuXG4gKiBpbmplY3RlZC5cbiAqIChUaGlzIGV4Y2x1ZGVzIHJlaHlkcmF0ZWQgbmFtZXMpICovXG5cbi8qIGFkZHMgYSBuZXcgSUQ6bmFtZSBwYWlyaW5nIHRvIGEgbmFtZXMgZGljdGlvbmFyeSAqL1xudmFyIGFkZE5hbWVGb3JJZCA9IGZ1bmN0aW9uIGFkZE5hbWVGb3JJZChuYW1lcywgaWQsIG5hbWUpIHtcbiAgaWYgKG5hbWUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB2YXIgbmFtZXNGb3JJZCA9IG5hbWVzW2lkXSB8fCAobmFtZXNbaWRdID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgbmFtZXNGb3JJZFtuYW1lXSA9IHRydWU7XG4gIH1cbn07XG5cbi8qIHJlc2V0cyBhbiBJRCBlbnRpcmVseSBieSBvdmVyd3JpdGluZyBpdCBpbiB0aGUgZGljdGlvbmFyeSAqL1xudmFyIHJlc2V0SWROYW1lcyA9IGZ1bmN0aW9uIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG5hbWVzW2lkXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59O1xuXG4vKiBmYWN0b3J5IGZvciBhIG5hbWVzIGRpY3Rpb25hcnkgY2hlY2tpbmcgdGhlIGV4aXN0YW5jZSBvZiBhbiBJRDpuYW1lIHBhaXJpbmcgKi9cbnZhciBoYXNOYW1lRm9ySWQgPSBmdW5jdGlvbiBoYXNOYW1lRm9ySWQobmFtZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpZCwgbmFtZSkge1xuICAgIHJldHVybiBuYW1lc1tpZF0gIT09IHVuZGVmaW5lZCAmJiBuYW1lc1tpZF1bbmFtZV07XG4gIH07XG59O1xuXG4vKiBzdHJpbmdpZmllcyBuYW1lcyBmb3IgdGhlIGh0bWwvZWxlbWVudCBvdXRwdXQgKi9cbnZhciBzdHJpbmdpZnlOYW1lcyA9IGZ1bmN0aW9uIHN0cmluZ2lmeU5hbWVzKG5hbWVzKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICBmb3IgKHZhciBpZCBpbiBuYW1lcykge1xuICAgIHN0ciArPSBPYmplY3Qua2V5cyhuYW1lc1tpZF0pLmpvaW4oJyAnKSArICcgJztcbiAgfVxuICByZXR1cm4gc3RyLnRyaW0oKTtcbn07XG5cbi8qIGNsb25lcyB0aGUgbmVzdGVkIG5hbWVzIGRpY3Rpb25hcnkgKi9cbnZhciBjbG9uZU5hbWVzID0gZnVuY3Rpb24gY2xvbmVOYW1lcyhuYW1lcykge1xuICB2YXIgY2xvbmUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gIGZvciAodmFyIGlkIGluIG5hbWVzKSB7XG4gICAgY2xvbmVbaWRdID0gX2V4dGVuZHMoe30sIG5hbWVzW2lkXSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lO1xufTtcblxuLy8gXG5cbi8qIFRoZXNlIGFyZSBoZWxwZXJzIHRoYXQgZGVhbCB3aXRoIHRoZSBpbnNlcnRSdWxlIChha2Egc3BlZWR5KSBBUElcbiAqIFRoZXkgYXJlIHVzZWQgaW4gdGhlIFN0eWxlVGFncyBhbmQgc3BlY2lmaWNhbGx5IHRoZSBzcGVlZHkgdGFnXG4gKi9cblxuLyogcmV0cmlldmUgYSBzaGVldCBmb3IgYSBnaXZlbiBzdHlsZSB0YWcgKi9cbnZhciBzaGVldEZvclRhZyA9IGZ1bmN0aW9uIHNoZWV0Rm9yVGFnKHRhZykge1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmICh0YWcuc2hlZXQpIHJldHVybiB0YWcuc2hlZXQ7XG5cbiAgLyogRmlyZWZveCBxdWlyayByZXF1aXJlcyB1cyB0byBzdGVwIHRocm91Z2ggYWxsIHN0eWxlc2hlZXRzIHRvIGZpbmQgb25lIG93bmVkIGJ5IHRoZSBnaXZlbiB0YWcgKi9cbiAgdmFyIHNpemUgPSB0YWcub3duZXJEb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XG4gICAgdmFyIHNoZWV0ID0gdGFnLm93bmVyRG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGlmIChzaGVldC5vd25lck5vZGUgPT09IHRhZykgcmV0dXJuIHNoZWV0O1xuICB9XG5cbiAgLyogd2Ugc2hvdWxkIGFsd2F5cyBiZSBhYmxlIHRvIGZpbmQgYSB0YWcgKi9cbiAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcigxMCk7XG59O1xuXG4vKiBpbnNlcnQgYSBydWxlIHNhZmVseSBhbmQgcmV0dXJuIHdoZXRoZXIgaXQgd2FzIGFjdHVhbGx5IGluamVjdGVkICovXG52YXIgc2FmZUluc2VydFJ1bGUgPSBmdW5jdGlvbiBzYWZlSW5zZXJ0UnVsZShzaGVldCwgY3NzUnVsZSwgaW5kZXgpIHtcbiAgLyogYWJvcnQgZWFybHkgaWYgY3NzUnVsZSBzdHJpbmcgaXMgZmFsc3kgKi9cbiAgaWYgKCFjc3NSdWxlKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIG1heEluZGV4ID0gc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgLyogdXNlIGluc2VydFJ1bGUgYW5kIGNhcCBwYXNzZWQgaW5kZXggd2l0aCBtYXhJbmRleCAobm8gb2YgY3NzUnVsZXMpICovXG4gICAgc2hlZXQuaW5zZXJ0UnVsZShjc3NSdWxlLCBpbmRleCA8PSBtYXhJbmRleCA/IGluZGV4IDogbWF4SW5kZXgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvKiBhbnkgZXJyb3IgaW5kaWNhdGVzIGFuIGludmFsaWQgcnVsZSAqL1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyogZGVsZXRlcyBgc2l6ZWAgcnVsZXMgc3RhcnRpbmcgZnJvbSBgcmVtb3ZhbEluZGV4YCAqL1xudmFyIGRlbGV0ZVJ1bGVzID0gZnVuY3Rpb24gZGVsZXRlUnVsZXMoc2hlZXQsIHJlbW92YWxJbmRleCwgc2l6ZSkge1xuICB2YXIgbG93ZXJCb3VuZCA9IHJlbW92YWxJbmRleCAtIHNpemU7XG4gIGZvciAodmFyIGkgPSByZW1vdmFsSW5kZXg7IGkgPiBsb3dlckJvdW5kOyBpIC09IDEpIHtcbiAgICBzaGVldC5kZWxldGVSdWxlKGkpO1xuICB9XG59O1xuXG4vLyBcblxuLyogdGhpcyBtYXJrZXIgc2VwYXJhdGVzIGNvbXBvbmVudCBzdHlsZXMgYW5kIGlzIGltcG9ydGFudCBmb3IgcmVoeWRyYXRpb24gKi9cbnZhciBtYWtlVGV4dE1hcmtlciA9IGZ1bmN0aW9uIG1ha2VUZXh0TWFya2VyKGlkKSB7XG4gIHJldHVybiAnXFxuLyogc2MtY29tcG9uZW50LWlkOiAnICsgaWQgKyAnICovXFxuJztcbn07XG5cbi8qIGFkZCB1cCBhbGwgbnVtYmVycyBpbiBhcnJheSB1cCB1bnRpbCBhbmQgaW5jbHVkaW5nIHRoZSBpbmRleCAqL1xudmFyIGFkZFVwVW50aWxJbmRleCA9IGZ1bmN0aW9uIGFkZFVwVW50aWxJbmRleChzaXplcywgaW5kZXgpIHtcbiAgdmFyIHRvdGFsVXBUb0luZGV4ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gaW5kZXg7IGkgKz0gMSkge1xuICAgIHRvdGFsVXBUb0luZGV4ICs9IHNpemVzW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRvdGFsVXBUb0luZGV4O1xufTtcblxuLyogY3JlYXRlIGEgbmV3IHN0eWxlIHRhZyBhZnRlciBsYXN0RWwgKi9cbnZhciBtYWtlU3R5bGVUYWcgPSBmdW5jdGlvbiBtYWtlU3R5bGVUYWcodGFyZ2V0LCB0YWdFbCwgaW5zZXJ0QmVmb3JlKSB7XG4gIHZhciB0YXJnZXREb2N1bWVudCA9IGRvY3VtZW50O1xuICBpZiAodGFyZ2V0KSB0YXJnZXREb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O2Vsc2UgaWYgKHRhZ0VsKSB0YXJnZXREb2N1bWVudCA9IHRhZ0VsLm93bmVyRG9jdW1lbnQ7XG5cbiAgdmFyIGVsID0gdGFyZ2V0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZWwuc2V0QXR0cmlidXRlKFNDX0FUVFIsICcnKTtcbiAgZWwuc2V0QXR0cmlidXRlKFNDX1ZFUlNJT05fQVRUUiwgXCI0LjQuMVwiKTtcblxuICB2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuICBpZiAobm9uY2UpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICB9XG5cbiAgLyogV29yayBhcm91bmQgaW5zZXJ0UnVsZSBxdWlyayBpbiBFZGdlSFRNTCAqL1xuICBlbC5hcHBlbmRDaGlsZCh0YXJnZXREb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xuXG4gIGlmICh0YXJnZXQgJiYgIXRhZ0VsKSB7XG4gICAgLyogQXBwZW5kIHRvIHRhcmdldCB3aGVuIG5vIHByZXZpb3VzIGVsZW1lbnQgd2FzIHBhc3NlZCAqL1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChlbCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCF0YWdFbCB8fCAhdGFyZ2V0IHx8ICF0YWdFbC5wYXJlbnROb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDYpO1xuICAgIH1cblxuICAgIC8qIEluc2VydCBuZXcgc3R5bGUgdGFnIGFmdGVyIHRoZSBwcmV2aW91cyBvbmUgKi9cbiAgICB0YWdFbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbCwgaW5zZXJ0QmVmb3JlID8gdGFnRWwgOiB0YWdFbC5uZXh0U2libGluZyk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59O1xuXG4vKiB0YWtlcyBhIGNzcyBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBvdXRwdXRzIGFuIGh0bWwgc3R5bGVkIHRhZyBmYWN0b3J5ICovXG52YXIgd3JhcEFzSHRtbFRhZyA9IGZ1bmN0aW9uIHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGFkZGl0aW9uYWxBdHRycykge1xuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgdmFyIGF0dHJzID0gW25vbmNlICYmICdub25jZT1cIicgKyBub25jZSArICdcIicsIFNDX0FUVFIgKyAnPVwiJyArIHN0cmluZ2lmeU5hbWVzKG5hbWVzKSArICdcIicsIFNDX1ZFUlNJT05fQVRUUiArICc9XCInICsgXCI0LjQuMVwiICsgJ1wiJywgYWRkaXRpb25hbEF0dHJzXTtcblxuICAgIHZhciBodG1sQXR0ciA9IGF0dHJzLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gICAgcmV0dXJuICc8c3R5bGUgJyArIGh0bWxBdHRyICsgJz4nICsgY3NzKCkgKyAnPC9zdHlsZT4nO1xuICB9O1xufTtcblxuLyogdGFrZXMgYSBjc3MgZmFjdG9yeSBmdW5jdGlvbiBhbmQgb3V0cHV0cyBhbiBlbGVtZW50IGZhY3RvcnkgKi9cbnZhciB3cmFwQXNFbGVtZW50ID0gZnVuY3Rpb24gd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9wcm9wcztcblxuICAgIHZhciBwcm9wcyA9IChfcHJvcHMgPSB7fSwgX3Byb3BzW1NDX0FUVFJdID0gc3RyaW5naWZ5TmFtZXMobmFtZXMpLCBfcHJvcHNbU0NfVkVSU0lPTl9BVFRSXSA9IFwiNC40LjFcIiwgX3Byb3BzKTtcblxuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBwcm9wcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1kYW5nZXJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3R5bGUnLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBjc3MoKSB9IH0pKTtcbiAgfTtcbn07XG5cbnZhciBnZXRJZHNGcm9tTWFya2Vyc0ZhY3RvcnkgPSBmdW5jdGlvbiBnZXRJZHNGcm9tTWFya2Vyc0ZhY3RvcnkobWFya2Vycykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXJrZXJzKTtcbiAgfTtcbn07XG5cbi8qIHNwZWVkeSB0YWdzIHV0aWxpc2UgaW5zZXJ0UnVsZSAqL1xudmFyIG1ha2VTcGVlZHlUYWcgPSBmdW5jdGlvbiBtYWtlU3BlZWR5VGFnKGVsLCBnZXRJbXBvcnRSdWxlVGFnKSB7XG4gIHZhciBuYW1lcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBtYXJrZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIHNpemVzID0gW107XG5cbiAgdmFyIGV4dHJhY3RJbXBvcnQgPSBnZXRJbXBvcnRSdWxlVGFnICE9PSB1bmRlZmluZWQ7XG4gIC8qIGluZGljYXRlcyB3aGV0aGVyIGdldEltcG9ydFJ1bGVUYWcgd2FzIGNhbGxlZCAqL1xuICB2YXIgdXNlZEltcG9ydFJ1bGVUYWcgPSBmYWxzZTtcblxuICB2YXIgaW5zZXJ0TWFya2VyID0gZnVuY3Rpb24gaW5zZXJ0TWFya2VyKGlkKSB7XG4gICAgdmFyIHByZXYgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICBtYXJrZXJzW2lkXSA9IHNpemVzLmxlbmd0aDtcbiAgICBzaXplcy5wdXNoKDApO1xuICAgIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpO1xuXG4gICAgcmV0dXJuIG1hcmtlcnNbaWRdO1xuICB9O1xuXG4gIHZhciBpbnNlcnRSdWxlcyA9IGZ1bmN0aW9uIGluc2VydFJ1bGVzKGlkLCBjc3NSdWxlcywgbmFtZSkge1xuICAgIHZhciBtYXJrZXIgPSBpbnNlcnRNYXJrZXIoaWQpO1xuICAgIHZhciBzaGVldCA9IHNoZWV0Rm9yVGFnKGVsKTtcbiAgICB2YXIgaW5zZXJ0SW5kZXggPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcik7XG5cbiAgICB2YXIgaW5qZWN0ZWRSdWxlcyA9IDA7XG4gICAgdmFyIGltcG9ydFJ1bGVzID0gW107XG4gICAgdmFyIGNzc1J1bGVzU2l6ZSA9IGNzc1J1bGVzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3NzUnVsZXNTaXplOyBpICs9IDEpIHtcbiAgICAgIHZhciBjc3NSdWxlID0gY3NzUnVsZXNbaV07XG4gICAgICB2YXIgbWF5SGF2ZUltcG9ydCA9IGV4dHJhY3RJbXBvcnQ7IC8qIEBpbXBvcnQgcnVsZXMgYXJlIHJlb3JkZXJlZCB0byBhcHBlYXIgZmlyc3QgKi9cbiAgICAgIGlmIChtYXlIYXZlSW1wb3J0ICYmIGNzc1J1bGUuaW5kZXhPZignQGltcG9ydCcpICE9PSAtMSkge1xuICAgICAgICBpbXBvcnRSdWxlcy5wdXNoKGNzc1J1bGUpO1xuICAgICAgfSBlbHNlIGlmIChzYWZlSW5zZXJ0UnVsZShzaGVldCwgY3NzUnVsZSwgaW5zZXJ0SW5kZXggKyBpbmplY3RlZFJ1bGVzKSkge1xuICAgICAgICBtYXlIYXZlSW1wb3J0ID0gZmFsc2U7XG4gICAgICAgIGluamVjdGVkUnVsZXMgKz0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXh0cmFjdEltcG9ydCAmJiBpbXBvcnRSdWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICB1c2VkSW1wb3J0UnVsZVRhZyA9IHRydWU7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBnZXRJbXBvcnRSdWxlVGFnKCkuaW5zZXJ0UnVsZXMoaWQgKyAnLWltcG9ydCcsIGltcG9ydFJ1bGVzKTtcbiAgICB9XG5cbiAgICBzaXplc1ttYXJrZXJdICs9IGluamVjdGVkUnVsZXM7IC8qIGFkZCB1cCBubyBvZiBpbmplY3RlZCBydWxlcyAqL1xuICAgIGFkZE5hbWVGb3JJZChuYW1lcywgaWQsIG5hbWUpO1xuICB9O1xuXG4gIHZhciByZW1vdmVSdWxlcyA9IGZ1bmN0aW9uIHJlbW92ZVJ1bGVzKGlkKSB7XG4gICAgdmFyIG1hcmtlciA9IG1hcmtlcnNbaWRdO1xuICAgIGlmIChtYXJrZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBpZiAoZWwuaXNDb25uZWN0ZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICB2YXIgc2l6ZSA9IHNpemVzW21hcmtlcl07XG4gICAgdmFyIHNoZWV0ID0gc2hlZXRGb3JUYWcoZWwpO1xuICAgIHZhciByZW1vdmFsSW5kZXggPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcikgLSAxO1xuICAgIGRlbGV0ZVJ1bGVzKHNoZWV0LCByZW1vdmFsSW5kZXgsIHNpemUpO1xuICAgIHNpemVzW21hcmtlcl0gPSAwO1xuICAgIHJlc2V0SWROYW1lcyhuYW1lcywgaWQpO1xuXG4gICAgaWYgKGV4dHJhY3RJbXBvcnQgJiYgdXNlZEltcG9ydFJ1bGVUYWcpIHtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGdldEltcG9ydFJ1bGVUYWcoKS5yZW1vdmVSdWxlcyhpZCArICctaW1wb3J0Jyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjc3MgPSBmdW5jdGlvbiBjc3MoKSB7XG4gICAgdmFyIF9zaGVldEZvclRhZyA9IHNoZWV0Rm9yVGFnKGVsKSxcbiAgICAgICAgY3NzUnVsZXMgPSBfc2hlZXRGb3JUYWcuY3NzUnVsZXM7XG5cbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgc3RyICs9IG1ha2VUZXh0TWFya2VyKGlkKTtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICAgIHZhciBlbmQgPSBhZGRVcFVudGlsSW5kZXgoc2l6ZXMsIG1hcmtlcik7XG4gICAgICB2YXIgc2l6ZSA9IHNpemVzW21hcmtlcl07XG4gICAgICBmb3IgKHZhciBpID0gZW5kIC0gc2l6ZTsgaSA8IGVuZDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICAgIGlmIChydWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdHIgKz0gcnVsZS5jc3NUZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNSk7XG4gICAgfSxcblxuICAgIGNzczogY3NzLFxuICAgIGdldElkczogZ2V0SWRzRnJvbU1hcmtlcnNGYWN0b3J5KG1hcmtlcnMpLFxuICAgIGhhc05hbWVGb3JJZDogaGFzTmFtZUZvcklkKG5hbWVzKSxcbiAgICBpbnNlcnRNYXJrZXI6IGluc2VydE1hcmtlcixcbiAgICBpbnNlcnRSdWxlczogaW5zZXJ0UnVsZXMsXG4gICAgcmVtb3ZlUnVsZXM6IHJlbW92ZVJ1bGVzLFxuICAgIHNlYWxlZDogZmFsc2UsXG4gICAgc3R5bGVUYWc6IGVsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcbn07XG5cbnZhciBtYWtlVGV4dE5vZGUgPSBmdW5jdGlvbiBtYWtlVGV4dE5vZGUodGFyZ2V0RG9jdW1lbnQsIGlkKSB7XG4gIHJldHVybiB0YXJnZXREb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtYWtlVGV4dE1hcmtlcihpZCkpO1xufTtcblxudmFyIG1ha2VCcm93c2VyVGFnID0gZnVuY3Rpb24gbWFrZUJyb3dzZXJUYWcoZWwsIGdldEltcG9ydFJ1bGVUYWcpIHtcbiAgdmFyIG5hbWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIG1hcmtlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHZhciBleHRyYWN0SW1wb3J0ID0gZ2V0SW1wb3J0UnVsZVRhZyAhPT0gdW5kZWZpbmVkO1xuXG4gIC8qIGluZGljYXRlcyB3aGV0aGVyIGdldEltcG9ydFJ1bGVUYWcgd2FzIGNhbGxlZCAqL1xuICB2YXIgdXNlZEltcG9ydFJ1bGVUYWcgPSBmYWxzZTtcblxuICB2YXIgaW5zZXJ0TWFya2VyID0gZnVuY3Rpb24gaW5zZXJ0TWFya2VyKGlkKSB7XG4gICAgdmFyIHByZXYgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICBtYXJrZXJzW2lkXSA9IG1ha2VUZXh0Tm9kZShlbC5vd25lckRvY3VtZW50LCBpZCk7XG4gICAgZWwuYXBwZW5kQ2hpbGQobWFya2Vyc1tpZF0pO1xuICAgIG5hbWVzW2lkXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICByZXR1cm4gbWFya2Vyc1tpZF07XG4gIH07XG5cbiAgdmFyIGluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIG1hcmtlciA9IGluc2VydE1hcmtlcihpZCk7XG4gICAgdmFyIGltcG9ydFJ1bGVzID0gW107XG4gICAgdmFyIGNzc1J1bGVzU2l6ZSA9IGNzc1J1bGVzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3NzUnVsZXNTaXplOyBpICs9IDEpIHtcbiAgICAgIHZhciBydWxlID0gY3NzUnVsZXNbaV07XG4gICAgICB2YXIgbWF5SGF2ZUltcG9ydCA9IGV4dHJhY3RJbXBvcnQ7XG4gICAgICBpZiAobWF5SGF2ZUltcG9ydCAmJiBydWxlLmluZGV4T2YoJ0BpbXBvcnQnKSAhPT0gLTEpIHtcbiAgICAgICAgaW1wb3J0UnVsZXMucHVzaChydWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heUhhdmVJbXBvcnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IGkgPT09IGNzc1J1bGVzU2l6ZSAtIDEgPyAnJyA6ICcgJztcbiAgICAgICAgbWFya2VyLmFwcGVuZERhdGEoJycgKyBydWxlICsgc2VwYXJhdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhZGROYW1lRm9ySWQobmFtZXMsIGlkLCBuYW1lKTtcblxuICAgIGlmIChleHRyYWN0SW1wb3J0ICYmIGltcG9ydFJ1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVzZWRJbXBvcnRSdWxlVGFnID0gdHJ1ZTtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGdldEltcG9ydFJ1bGVUYWcoKS5pbnNlcnRSdWxlcyhpZCArICctaW1wb3J0JywgaW1wb3J0UnVsZXMpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlUnVsZXMgPSBmdW5jdGlvbiByZW1vdmVSdWxlcyhpZCkge1xuICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAobWFya2VyID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8qIGNyZWF0ZSBuZXcgZW1wdHkgdGV4dCBub2RlIGFuZCByZXBsYWNlIHRoZSBjdXJyZW50IG9uZSAqL1xuICAgIHZhciBuZXdNYXJrZXIgPSBtYWtlVGV4dE5vZGUoZWwub3duZXJEb2N1bWVudCwgaWQpO1xuICAgIGVsLnJlcGxhY2VDaGlsZChuZXdNYXJrZXIsIG1hcmtlcik7XG4gICAgbWFya2Vyc1tpZF0gPSBuZXdNYXJrZXI7XG4gICAgcmVzZXRJZE5hbWVzKG5hbWVzLCBpZCk7XG5cbiAgICBpZiAoZXh0cmFjdEltcG9ydCAmJiB1c2VkSW1wb3J0UnVsZVRhZykge1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgZ2V0SW1wb3J0UnVsZVRhZygpLnJlbW92ZVJ1bGVzKGlkICsgJy1pbXBvcnQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNzcyA9IGZ1bmN0aW9uIGNzcygpIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgc3RyICs9IG1hcmtlcnNbaWRdLmRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNSk7XG4gICAgfSxcblxuICAgIGNzczogY3NzLFxuICAgIGdldElkczogZ2V0SWRzRnJvbU1hcmtlcnNGYWN0b3J5KG1hcmtlcnMpLFxuICAgIGhhc05hbWVGb3JJZDogaGFzTmFtZUZvcklkKG5hbWVzKSxcbiAgICBpbnNlcnRNYXJrZXI6IGluc2VydE1hcmtlcixcbiAgICBpbnNlcnRSdWxlczogaW5zZXJ0UnVsZXMsXG4gICAgcmVtb3ZlUnVsZXM6IHJlbW92ZVJ1bGVzLFxuICAgIHNlYWxlZDogZmFsc2UsXG4gICAgc3R5bGVUYWc6IGVsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcbn07XG5cbnZhciBtYWtlU2VydmVyVGFnID0gZnVuY3Rpb24gbWFrZVNlcnZlclRhZyhuYW1lc0FyZywgbWFya2Vyc0FyZykge1xuICB2YXIgbmFtZXMgPSBuYW1lc0FyZyA9PT0gdW5kZWZpbmVkID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG5hbWVzQXJnO1xuICB2YXIgbWFya2VycyA9IG1hcmtlcnNBcmcgPT09IHVuZGVmaW5lZCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBtYXJrZXJzQXJnO1xuXG4gIHZhciBpbnNlcnRNYXJrZXIgPSBmdW5jdGlvbiBpbnNlcnRNYXJrZXIoaWQpIHtcbiAgICB2YXIgcHJldiA9IG1hcmtlcnNbaWRdO1xuICAgIGlmIChwcmV2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZXJzW2lkXSA9IFsnJ107XG4gIH07XG5cbiAgdmFyIGluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIG1hcmtlciA9IGluc2VydE1hcmtlcihpZCk7XG4gICAgbWFya2VyWzBdICs9IGNzc1J1bGVzLmpvaW4oJyAnKTtcbiAgICBhZGROYW1lRm9ySWQobmFtZXMsIGlkLCBuYW1lKTtcbiAgfTtcblxuICB2YXIgcmVtb3ZlUnVsZXMgPSBmdW5jdGlvbiByZW1vdmVSdWxlcyhpZCkge1xuICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2lkXTtcbiAgICBpZiAobWFya2VyID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBtYXJrZXJbMF0gPSAnJztcbiAgICByZXNldElkTmFtZXMobmFtZXMsIGlkKTtcbiAgfTtcblxuICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKCkge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgdmFyIGNzc0ZvcklkID0gbWFya2Vyc1tpZF1bMF07XG4gICAgICBpZiAoY3NzRm9ySWQpIHtcbiAgICAgICAgc3RyICs9IG1ha2VUZXh0TWFya2VyKGlkKSArIGNzc0ZvcklkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHZhciBuYW1lc0Nsb25lID0gY2xvbmVOYW1lcyhuYW1lcyk7XG4gICAgdmFyIG1hcmtlcnNDbG9uZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yICh2YXIgaWQgaW4gbWFya2Vycykge1xuICAgICAgbWFya2Vyc0Nsb25lW2lkXSA9IFttYXJrZXJzW2lkXVswXV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ha2VTZXJ2ZXJUYWcobmFtZXNDbG9uZSwgbWFya2Vyc0Nsb25lKTtcbiAgfTtcblxuICB2YXIgdGFnID0ge1xuICAgIGNsb25lOiBjbG9uZSxcbiAgICBjc3M6IGNzcyxcbiAgICBnZXRJZHM6IGdldElkc0Zyb21NYXJrZXJzRmFjdG9yeShtYXJrZXJzKSxcbiAgICBoYXNOYW1lRm9ySWQ6IGhhc05hbWVGb3JJZChuYW1lcyksXG4gICAgaW5zZXJ0TWFya2VyOiBpbnNlcnRNYXJrZXIsXG4gICAgaW5zZXJ0UnVsZXM6IGluc2VydFJ1bGVzLFxuICAgIHJlbW92ZVJ1bGVzOiByZW1vdmVSdWxlcyxcbiAgICBzZWFsZWQ6IGZhbHNlLFxuICAgIHN0eWxlVGFnOiBudWxsLFxuICAgIHRvRWxlbWVudDogd3JhcEFzRWxlbWVudChjc3MsIG5hbWVzKSxcbiAgICB0b0hUTUw6IHdyYXBBc0h0bWxUYWcoY3NzLCBuYW1lcylcbiAgfTtcblxuICByZXR1cm4gdGFnO1xufTtcblxudmFyIG1ha2VUYWcgPSBmdW5jdGlvbiBtYWtlVGFnKHRhcmdldCwgdGFnRWwsIGZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUsIGdldEltcG9ydFJ1bGVUYWcpIHtcbiAgaWYgKElTX0JST1dTRVIgJiYgIWZvcmNlU2VydmVyKSB7XG4gICAgdmFyIGVsID0gbWFrZVN0eWxlVGFnKHRhcmdldCwgdGFnRWwsIGluc2VydEJlZm9yZSk7XG5cbiAgICBpZiAoRElTQUJMRV9TUEVFRFkpIHtcbiAgICAgIHJldHVybiBtYWtlQnJvd3NlclRhZyhlbCwgZ2V0SW1wb3J0UnVsZVRhZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYWtlU3BlZWR5VGFnKGVsLCBnZXRJbXBvcnRSdWxlVGFnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFrZVNlcnZlclRhZygpO1xufTtcblxudmFyIHJlaHlkcmF0ZSA9IGZ1bmN0aW9uIHJlaHlkcmF0ZSh0YWcsIGVscywgZXh0cmFjdGVkKSB7XG4gIC8qIGFkZCBhbGwgZXh0cmFjdGVkIGNvbXBvbmVudHMgdG8gdGhlIG5ldyB0YWcgKi9cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4dHJhY3RlZC5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHZhciBfZXh0cmFjdGVkJGkgPSBleHRyYWN0ZWRbaV0sXG4gICAgICAgIGNvbXBvbmVudElkID0gX2V4dHJhY3RlZCRpLmNvbXBvbmVudElkLFxuICAgICAgICBjc3NGcm9tRE9NID0gX2V4dHJhY3RlZCRpLmNzc0Zyb21ET007XG5cbiAgICB2YXIgY3NzUnVsZXMgPSBzcGxpdEJ5UnVsZXMoY3NzRnJvbURPTSk7XG4gICAgdGFnLmluc2VydFJ1bGVzKGNvbXBvbmVudElkLCBjc3NSdWxlcyk7XG4gIH1cblxuICAvKiByZW1vdmUgb2xkIEhUTUxTdHlsZUVsZW1lbnRzLCBzaW5jZSB0aGV5IGhhdmUgYmVlbiByZWh5ZHJhdGVkICovXG4gIGZvciAodmFyIF9pID0gMCwgX2xlbiA9IGVscy5sZW5ndGg7IF9pIDwgX2xlbjsgX2kgKz0gMSkge1xuICAgIHZhciBlbCA9IGVsc1tfaV07XG4gICAgaWYgKGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gXG5cbnZhciBTUExJVF9SRUdFWCA9IC9cXHMrLztcblxuLyogZGV0ZXJtaW5lIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjb21wb25lbnRzIGJlZm9yZSB0YWdzIGFyZSBzaGFyZGVkICovXG52YXIgTUFYX1NJWkUgPSB2b2lkIDA7XG5pZiAoSVNfQlJPV1NFUikge1xuICAvKiBpbiBzcGVlZHkgbW9kZSB3ZSBjYW4ga2VlcCBhIGxvdCBtb3JlIHJ1bGVzIGluIGEgc2hlZXQgYmVmb3JlIGEgc2xvd2Rvd24gY2FuIGJlIGV4cGVjdGVkICovXG4gIE1BWF9TSVpFID0gRElTQUJMRV9TUEVFRFkgPyA0MCA6IDEwMDA7XG59IGVsc2Uge1xuICAvKiBmb3Igc2VydmVycyB3ZSBkbyBub3QgbmVlZCB0byBzaGFyZCBhdCBhbGwgKi9cbiAgTUFYX1NJWkUgPSAtMTtcbn1cblxudmFyIHNoZWV0UnVubmluZ0lkID0gMDtcbnZhciBtYXN0ZXIgPSB2b2lkIDA7XG5cbnZhciBTdHlsZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qIGEgbWFwIGZyb20gaWRzIHRvIHRhZ3MgKi9cblxuICAvKiBkZWZlcnJlZCBydWxlcyBmb3IgYSBnaXZlbiBpZCAqL1xuXG4gIC8qIHRoaXMgaXMgdXNlZCBmb3Igbm90IHJlaW5qZWN0aW5nIHJ1bGVzIHZpYSBoYXNOYW1lRm9ySWQoKSAqL1xuXG4gIC8qIHdoZW4gcnVsZXMgZm9yIGFuIGlkIGFyZSByZW1vdmVkIHVzaW5nIHJlbW92ZSgpIHdlIGhhdmUgdG8gaWdub3JlIHJlaHlkcmF0ZWROYW1lcyBmb3IgaXQgKi9cblxuICAvKiBhIGxpc3Qgb2YgdGFncyBiZWxvbmdpbmcgdG8gdGhpcyBTdHlsZVNoZWV0ICovXG5cbiAgLyogYSB0YWcgZm9yIGltcG9ydCBydWxlcyAqL1xuXG4gIC8qIGN1cnJlbnQgY2FwYWNpdHkgdW50aWwgYSBuZXcgdGFnIG11c3QgYmUgY3JlYXRlZCAqL1xuXG4gIC8qIGNoaWxkcmVuIChha2EgY2xvbmVzKSBvZiB0aGlzIFN0eWxlU2hlZXQgaW5oZXJpdGluZyBhbGwgYW5kIGZ1dHVyZSBpbmplY3Rpb25zICovXG5cbiAgZnVuY3Rpb24gU3R5bGVTaGVldCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogSVNfQlJPV1NFUiA/IGRvY3VtZW50LmhlYWQgOiBudWxsO1xuICAgIHZhciBmb3JjZVNlcnZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5bGVTaGVldCk7XG5cbiAgICB0aGlzLmdldEltcG9ydFJ1bGVUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW1wb3J0UnVsZVRhZyA9IF90aGlzLmltcG9ydFJ1bGVUYWc7XG5cbiAgICAgIGlmIChpbXBvcnRSdWxlVGFnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGltcG9ydFJ1bGVUYWc7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaXJzdFRhZyA9IF90aGlzLnRhZ3NbMF07XG4gICAgICB2YXIgaW5zZXJ0QmVmb3JlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIF90aGlzLmltcG9ydFJ1bGVUYWcgPSBtYWtlVGFnKF90aGlzLnRhcmdldCwgZmlyc3RUYWcgPyBmaXJzdFRhZy5zdHlsZVRhZyA6IG51bGwsIF90aGlzLmZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUpO1xuICAgIH07XG5cbiAgICBzaGVldFJ1bm5pbmdJZCArPSAxO1xuICAgIHRoaXMuaWQgPSBzaGVldFJ1bm5pbmdJZDtcbiAgICB0aGlzLmZvcmNlU2VydmVyID0gZm9yY2VTZXJ2ZXI7XG4gICAgdGhpcy50YXJnZXQgPSBmb3JjZVNlcnZlciA/IG51bGwgOiB0YXJnZXQ7XG4gICAgdGhpcy50YWdNYXAgPSB7fTtcbiAgICB0aGlzLmRlZmVycmVkID0ge307XG4gICAgdGhpcy5yZWh5ZHJhdGVkTmFtZXMgPSB7fTtcbiAgICB0aGlzLmlnbm9yZVJlaHlkcmF0ZWROYW1lcyA9IHt9O1xuICAgIHRoaXMudGFncyA9IFtdO1xuICAgIHRoaXMuY2FwYWNpdHkgPSAxO1xuICAgIHRoaXMuY2xvbmVzID0gW107XG4gIH1cblxuICAvKiByZWh5ZHJhdGUgYWxsIFNTUidkIHN0eWxlIHRhZ3MgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLnJlaHlkcmF0ZSA9IGZ1bmN0aW9uIHJlaHlkcmF0ZSQkMSgpIHtcbiAgICBpZiAoIUlTX0JST1dTRVIgfHwgdGhpcy5mb3JjZVNlcnZlcikgcmV0dXJuIHRoaXM7XG5cbiAgICB2YXIgZWxzID0gW107XG4gICAgdmFyIGV4dHJhY3RlZCA9IFtdO1xuICAgIHZhciBpc1N0cmVhbWVkID0gZmFsc2U7XG5cbiAgICAvKiByZXRyaWV2ZSBhbGwgb2Ygb3VyIFNTUiBzdHlsZSBlbGVtZW50cyBmcm9tIHRoZSBET00gKi9cbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZVsnICsgU0NfQVRUUiArICddWycgKyBTQ19WRVJTSU9OX0FUVFIgKyAnPVwiJyArIFwiNC40LjFcIiArICdcIl0nKTtcblxuICAgIHZhciBub2Rlc1NpemUgPSBub2Rlcy5sZW5ndGg7XG5cbiAgICAvKiBhYm9ydCByZWh5ZHJhdGlvbiBpZiBubyBwcmV2aW91cyBzdHlsZSB0YWdzIHdlcmUgZm91bmQgKi9cbiAgICBpZiAoIW5vZGVzU2l6ZSkgcmV0dXJuIHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzU2l6ZTsgaSArPSAxKSB7XG4gICAgICB2YXIgZWwgPSBub2Rlc1tpXTtcblxuICAgICAgLyogY2hlY2sgaWYgc3R5bGUgdGFnIGlzIGEgc3RyZWFtZWQgdGFnICovXG4gICAgICBpZiAoIWlzU3RyZWFtZWQpIGlzU3RyZWFtZWQgPSAhIWVsLmdldEF0dHJpYnV0ZShTQ19TVFJFQU1fQVRUUik7XG5cbiAgICAgIC8qIHJldHJpZXZlIGFsbCBjb21wb25lbnQgbmFtZXMgKi9cbiAgICAgIHZhciBlbE5hbWVzID0gKGVsLmdldEF0dHJpYnV0ZShTQ19BVFRSKSB8fCAnJykudHJpbSgpLnNwbGl0KFNQTElUX1JFR0VYKTtcbiAgICAgIHZhciBlbE5hbWVzU2l6ZSA9IGVsTmFtZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIG5hbWU7IGogPCBlbE5hbWVzU2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIG5hbWUgPSBlbE5hbWVzW2pdO1xuICAgICAgICAvKiBhZGQgcmVoeWRyYXRlZCBuYW1lIHRvIHNoZWV0IHRvIGF2b2lkIHJlLWFkZGluZyBzdHlsZXMgKi9cbiAgICAgICAgdGhpcy5yZWh5ZHJhdGVkTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKiBleHRyYWN0IGFsbCBjb21wb25lbnRzIGFuZCB0aGVpciBDU1MgKi9cbiAgICAgIGV4dHJhY3RlZC5wdXNoLmFwcGx5KGV4dHJhY3RlZCwgZXh0cmFjdENvbXBzKGVsLnRleHRDb250ZW50KSk7XG5cbiAgICAgIC8qIHN0b3JlIG9yaWdpbmFsIEhUTUxTdHlsZUVsZW1lbnQgKi9cbiAgICAgIGVscy5wdXNoKGVsKTtcbiAgICB9XG5cbiAgICAvKiBhYm9ydCByZWh5ZHJhdGlvbiBpZiBub3RoaW5nIHdhcyBleHRyYWN0ZWQgKi9cbiAgICB2YXIgZXh0cmFjdGVkU2l6ZSA9IGV4dHJhY3RlZC5sZW5ndGg7XG4gICAgaWYgKCFleHRyYWN0ZWRTaXplKSByZXR1cm4gdGhpcztcblxuICAgIC8qIGNyZWF0ZSBhIHRhZyB0byBiZSB1c2VkIGZvciByZWh5ZHJhdGlvbiAqL1xuICAgIHZhciB0YWcgPSB0aGlzLm1ha2VUYWcobnVsbCk7XG5cbiAgICByZWh5ZHJhdGUodGFnLCBlbHMsIGV4dHJhY3RlZCk7XG5cbiAgICAvKiByZXNldCBjYXBhY2l0eSBhbmQgYWRqdXN0IE1BWF9TSVpFIGJ5IHRoZSBpbml0aWFsIHNpemUgb2YgdGhlIHJlaHlkcmF0aW9uICovXG4gICAgdGhpcy5jYXBhY2l0eSA9IE1hdGgubWF4KDEsIE1BWF9TSVpFIC0gZXh0cmFjdGVkU2l6ZSk7XG4gICAgdGhpcy50YWdzLnB1c2godGFnKTtcblxuICAgIC8qIHJldHJpZXZlIGFsbCBjb21wb25lbnQgaWRzICovXG4gICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGV4dHJhY3RlZFNpemU7IF9qICs9IDEpIHtcbiAgICAgIHRoaXMudGFnTWFwW2V4dHJhY3RlZFtfal0uY29tcG9uZW50SWRdID0gdGFnO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qIHJldHJpZXZlIGEgXCJtYXN0ZXJcIiBpbnN0YW5jZSBvZiBTdHlsZVNoZWV0IHdoaWNoIGlzIHR5cGljYWxseSB1c2VkIHdoZW4gbm8gb3RoZXIgaXMgYXZhaWxhYmxlXG4gICAqIFRoZSBtYXN0ZXIgU3R5bGVTaGVldCBpcyB0YXJnZXRlZCBieSBjcmVhdGVHbG9iYWxTdHlsZSwga2V5ZnJhbWVzLCBhbmQgY29tcG9uZW50cyBvdXRzaWRlIG9mIGFueVxuICAgICogU3R5bGVTaGVldE1hbmFnZXIncyBjb250ZXh0ICovXG5cblxuICAvKiByZXNldCB0aGUgaW50ZXJuYWwgXCJtYXN0ZXJcIiBpbnN0YW5jZSAqL1xuICBTdHlsZVNoZWV0LnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdmFyIGZvcmNlU2VydmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIG1hc3RlciA9IG5ldyBTdHlsZVNoZWV0KHVuZGVmaW5lZCwgZm9yY2VTZXJ2ZXIpLnJlaHlkcmF0ZSgpO1xuICB9O1xuXG4gIC8qIGFkZHMgXCJjaGlsZHJlblwiIHRvIHRoZSBTdHlsZVNoZWV0IHRoYXQgaW5oZXJpdCBhbGwgb2YgdGhlIHBhcmVudHMnIHJ1bGVzXG4gICAqIHdoaWxlIHRoZWlyIG93biBydWxlcyBkbyBub3QgYWZmZWN0IHRoZSBwYXJlbnQgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgdmFyIHNoZWV0ID0gbmV3IFN0eWxlU2hlZXQodGhpcy50YXJnZXQsIHRoaXMuZm9yY2VTZXJ2ZXIpO1xuXG4gICAgLyogYWRkIHRvIGNsb25lIGFycmF5ICovXG4gICAgdGhpcy5jbG9uZXMucHVzaChzaGVldCk7XG5cbiAgICAvKiBjbG9uZSBhbGwgdGFncyAqL1xuICAgIHNoZWV0LnRhZ3MgPSB0aGlzLnRhZ3MubWFwKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIHZhciBpZHMgPSB0YWcuZ2V0SWRzKCk7XG4gICAgICB2YXIgbmV3VGFnID0gdGFnLmNsb25lKCk7XG5cbiAgICAgIC8qIHJlY29uc3RydWN0IHRhZ01hcCAqL1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc2hlZXQudGFnTWFwW2lkc1tpXV0gPSBuZXdUYWc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdUYWc7XG4gICAgfSk7XG5cbiAgICAvKiBjbG9uZSBvdGhlciBtYXBzICovXG4gICAgc2hlZXQucmVoeWRyYXRlZE5hbWVzID0gX2V4dGVuZHMoe30sIHRoaXMucmVoeWRyYXRlZE5hbWVzKTtcbiAgICBzaGVldC5kZWZlcnJlZCA9IF9leHRlbmRzKHt9LCB0aGlzLmRlZmVycmVkKTtcblxuICAgIHJldHVybiBzaGVldDtcbiAgfTtcblxuICAvKiBmb3JjZSBTdHlsZVNoZWV0IHRvIGNyZWF0ZSBhIG5ldyB0YWcgb24gdGhlIG5leHQgaW5qZWN0aW9uICovXG5cblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5zZWFsQWxsVGFncyA9IGZ1bmN0aW9uIHNlYWxBbGxUYWdzKCkge1xuICAgIHRoaXMuY2FwYWNpdHkgPSAxO1xuXG4gICAgdGhpcy50YWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICB0YWcuc2VhbGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5tYWtlVGFnID0gZnVuY3Rpb24gbWFrZVRhZyQkMSh0YWcpIHtcbiAgICB2YXIgbGFzdEVsID0gdGFnID8gdGFnLnN0eWxlVGFnIDogbnVsbDtcbiAgICB2YXIgaW5zZXJ0QmVmb3JlID0gZmFsc2U7XG5cbiAgICByZXR1cm4gbWFrZVRhZyh0aGlzLnRhcmdldCwgbGFzdEVsLCB0aGlzLmZvcmNlU2VydmVyLCBpbnNlcnRCZWZvcmUsIHRoaXMuZ2V0SW1wb3J0UnVsZVRhZyk7XG4gIH07XG5cbiAgLyogZ2V0IGEgdGFnIGZvciBhIGdpdmVuIGNvbXBvbmVudElkLCBhc3NpZ24gdGhlIGNvbXBvbmVudElkIHRvIG9uZSwgb3Igc2hhcmQgKi9cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuZ2V0VGFnRm9ySWQgPSBmdW5jdGlvbiBnZXRUYWdGb3JJZChpZCkge1xuICAgIC8qIHNpbXBseSByZXR1cm4gYSB0YWcsIHdoZW4gdGhlIGNvbXBvbmVudElkIHdhcyBhbHJlYWR5IGFzc2lnbmVkIG9uZSAqL1xuICAgIHZhciBwcmV2ID0gdGhpcy50YWdNYXBbaWRdO1xuICAgIGlmIChwcmV2ICE9PSB1bmRlZmluZWQgJiYgIXByZXYuc2VhbGVkKSB7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9XG5cbiAgICB2YXIgdGFnID0gdGhpcy50YWdzW3RoaXMudGFncy5sZW5ndGggLSAxXTtcblxuICAgIC8qIHNoYXJkIChjcmVhdGUgYSBuZXcgdGFnKSBpZiB0aGUgdGFnIGlzIGV4aGF1c3RlZCAoU2VlIE1BWF9TSVpFKSAqL1xuICAgIHRoaXMuY2FwYWNpdHkgLT0gMTtcblxuICAgIGlmICh0aGlzLmNhcGFjaXR5ID09PSAwKSB7XG4gICAgICB0aGlzLmNhcGFjaXR5ID0gTUFYX1NJWkU7XG4gICAgICB0YWcgPSB0aGlzLm1ha2VUYWcodGFnKTtcbiAgICAgIHRoaXMudGFncy5wdXNoKHRhZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGFnTWFwW2lkXSA9IHRhZztcbiAgfTtcblxuICAvKiBtYWlubHkgZm9yIGNyZWF0ZUdsb2JhbFN0eWxlIHRvIGNoZWNrIGZvciBpdHMgaWQgKi9cblxuXG4gIFN0eWxlU2hlZXQucHJvdG90eXBlLmhhc0lkID0gZnVuY3Rpb24gaGFzSWQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy50YWdNYXBbaWRdICE9PSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyogY2FjaGluZyBsYXllciBjaGVja2luZyBpZCtuYW1lIHRvIGFscmVhZHkgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgdGFnIGFuZCBpbmplY3RlZCBydWxlcyAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuaGFzTmFtZUZvcklkID0gZnVuY3Rpb24gaGFzTmFtZUZvcklkKGlkLCBuYW1lKSB7XG4gICAgLyogZXhjZXB0aW9uIGZvciByZWh5ZHJhdGVkIG5hbWVzIHdoaWNoIGFyZSBjaGVja2VkIHNlcGFyYXRlbHkgKi9cbiAgICBpZiAodGhpcy5pZ25vcmVSZWh5ZHJhdGVkTmFtZXNbaWRdID09PSB1bmRlZmluZWQgJiYgdGhpcy5yZWh5ZHJhdGVkTmFtZXNbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciB0YWcgPSB0aGlzLnRhZ01hcFtpZF07XG4gICAgcmV0dXJuIHRhZyAhPT0gdW5kZWZpbmVkICYmIHRhZy5oYXNOYW1lRm9ySWQoaWQsIG5hbWUpO1xuICB9O1xuXG4gIC8qIHJlZ2lzdGVycyBhIGNvbXBvbmVudElkIGFuZCByZWdpc3RlcnMgaXQgb24gaXRzIHRhZyAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUuZGVmZXJyZWRJbmplY3QgPSBmdW5jdGlvbiBkZWZlcnJlZEluamVjdChpZCwgY3NzUnVsZXMpIHtcbiAgICAvKiBkb24ndCBpbmplY3Qgd2hlbiB0aGUgaWQgaXMgYWxyZWFkeSByZWdpc3RlcmVkICovXG4gICAgaWYgKHRoaXMudGFnTWFwW2lkXSAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICB2YXIgY2xvbmVzID0gdGhpcy5jbG9uZXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY2xvbmVzW2ldLmRlZmVycmVkSW5qZWN0KGlkLCBjc3NSdWxlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRUYWdGb3JJZChpZCkuaW5zZXJ0TWFya2VyKGlkKTtcbiAgICB0aGlzLmRlZmVycmVkW2lkXSA9IGNzc1J1bGVzO1xuICB9O1xuXG4gIC8qIGluamVjdHMgcnVsZXMgZm9yIGEgZ2l2ZW4gaWQgd2l0aCBhIG5hbWUgdGhhdCB3aWxsIG5lZWQgdG8gYmUgY2FjaGVkICovXG5cblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS5pbmplY3QgPSBmdW5jdGlvbiBpbmplY3QoaWQsIGNzc1J1bGVzLCBuYW1lKSB7XG4gICAgdmFyIGNsb25lcyA9IHRoaXMuY2xvbmVzO1xuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY2xvbmVzW2ldLmluamVjdChpZCwgY3NzUnVsZXMsIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciB0YWcgPSB0aGlzLmdldFRhZ0ZvcklkKGlkKTtcblxuICAgIC8qIGFkZCBkZWZlcnJlZCBydWxlcyBmb3IgY29tcG9uZW50ICovXG4gICAgaWYgKHRoaXMuZGVmZXJyZWRbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENvbWJpbmUgcGFzc2VkIGNzc1J1bGVzIHdpdGggcHJldmlvdXNseSBkZWZlcnJlZCBDU1MgcnVsZXNcbiAgICAgIC8vIE5PVEU6IFdlIGNhbm5vdCBtdXRhdGUgdGhlIGRlZmVycmVkIGFycmF5IGl0c2VsZiBhcyBhbGwgY2xvbmVzXG4gICAgICAvLyBkbyB0aGUgc2FtZSAoc2VlIGNsb25lc1tpXS5pbmplY3QpXG4gICAgICB2YXIgcnVsZXMgPSB0aGlzLmRlZmVycmVkW2lkXS5jb25jYXQoY3NzUnVsZXMpO1xuICAgICAgdGFnLmluc2VydFJ1bGVzKGlkLCBydWxlcywgbmFtZSk7XG5cbiAgICAgIHRoaXMuZGVmZXJyZWRbaWRdID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWcuaW5zZXJ0UnVsZXMoaWQsIGNzc1J1bGVzLCBuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLyogcmVtb3ZlcyBhbGwgcnVsZXMgZm9yIGEgZ2l2ZW4gaWQsIHdoaWNoIGRvZXNuJ3QgcmVtb3ZlIGl0cyBtYXJrZXIgYnV0IHJlc2V0cyBpdCAqL1xuXG5cbiAgU3R5bGVTaGVldC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnTWFwW2lkXTtcbiAgICBpZiAodGFnID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIHZhciBjbG9uZXMgPSB0aGlzLmNsb25lcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvbmVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjbG9uZXNbaV0ucmVtb3ZlKGlkKTtcbiAgICB9XG5cbiAgICAvKiByZW1vdmUgYWxsIHJ1bGVzIGZyb20gdGhlIHRhZyAqL1xuICAgIHRhZy5yZW1vdmVSdWxlcyhpZCk7XG5cbiAgICAvKiBpZ25vcmUgcG9zc2libGUgcmVoeWRyYXRlZCBuYW1lcyAqL1xuICAgIHRoaXMuaWdub3JlUmVoeWRyYXRlZE5hbWVzW2lkXSA9IHRydWU7XG5cbiAgICAvKiBkZWxldGUgcG9zc2libGUgZGVmZXJyZWQgcnVsZXMgKi9cbiAgICB0aGlzLmRlZmVycmVkW2lkXSA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiB0b0hUTUwoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFncy5tYXAoZnVuY3Rpb24gKHRhZykge1xuICAgICAgcmV0dXJuIHRhZy50b0hUTUwoKTtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTtcblxuICBTdHlsZVNoZWV0LnByb3RvdHlwZS50b1JlYWN0RWxlbWVudHMgPSBmdW5jdGlvbiB0b1JlYWN0RWxlbWVudHMoKSB7XG4gICAgdmFyIGlkID0gdGhpcy5pZDtcblxuXG4gICAgcmV0dXJuIHRoaXMudGFncy5tYXAoZnVuY3Rpb24gKHRhZywgaSkge1xuICAgICAgdmFyIGtleSA9ICdzYy0nICsgaWQgKyAnLScgKyBpO1xuICAgICAgcmV0dXJuIGNsb25lRWxlbWVudCh0YWcudG9FbGVtZW50KCksIHsga2V5OiBrZXkgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY3JlYXRlQ2xhc3MoU3R5bGVTaGVldCwgbnVsbCwgW3tcbiAgICBrZXk6ICdtYXN0ZXInLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIG1hc3RlciB8fCAobWFzdGVyID0gbmV3IFN0eWxlU2hlZXQoKS5yZWh5ZHJhdGUoKSk7XG4gICAgfVxuXG4gICAgLyogTk9URTogVGhpcyBpcyBqdXN0IGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSB3aXRoIGplc3Qtc3R5bGVkLWNvbXBvbmVudHMgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW5zdGFuY2UnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIFN0eWxlU2hlZXQubWFzdGVyO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3R5bGVTaGVldDtcbn0oKTtcblxuLy8gXG5cbnZhciBLZXlmcmFtZXMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEtleWZyYW1lcyhuYW1lLCBydWxlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlmcmFtZXMpO1xuXG4gICAgdGhpcy5pbmplY3QgPSBmdW5jdGlvbiAoc3R5bGVTaGVldCkge1xuICAgICAgaWYgKCFzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChfdGhpcy5pZCwgX3RoaXMubmFtZSkpIHtcbiAgICAgICAgc3R5bGVTaGVldC5pbmplY3QoX3RoaXMuaWQsIF90aGlzLnJ1bGVzLCBfdGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoMTIsIFN0cmluZyhfdGhpcy5uYW1lKSk7XG4gICAgfTtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5ydWxlcyA9IHJ1bGVzO1xuXG4gICAgdGhpcy5pZCA9ICdzYy1rZXlmcmFtZXMtJyArIG5hbWU7XG4gIH1cblxuICBLZXlmcmFtZXMucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG5cbiAgcmV0dXJuIEtleWZyYW1lcztcbn0oKTtcblxuLy8gXG5cbi8qKlxuICogaW5saW5lZCB2ZXJzaW9uIG9mXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL21hc3Rlci9wYWNrYWdlcy9mYmpzL3NyYy9jb3JlL2h5cGhlbmF0ZVN0eWxlTmFtZS5qc1xuICovXG5cbnZhciB1cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZztcbnZhciBtc1BhdHRlcm4gPSAvXm1zLS87XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgQ1NTIHByb3BlcnR5IG5hbWUsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ01velRyYW5zaXRpb24nKVxuICogICA8IFwiLW1vei10cmFuc2l0aW9uXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ21zVHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbXMtdHJhbnNpdGlvblwiXG4gKlxuICogQXMgTW9kZXJuaXpyIHN1Z2dlc3RzIChodHRwOi8vbW9kZXJuaXpyLmNvbS9kb2NzLyNwcmVmaXhlZCksIGFuIGBtc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gYC1tcy1gLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgJy0kMScpLnRvTG93ZXJDYXNlKCkucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5cbi8vIFxuXG4vLyBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2I4N2FhYmRmZTFiNzQ2MWU3MzMxYWJiMzYwMWQ5ZTZiYjI3NTQ0YmMvcGFja2FnZXMvcmVhY3QtZG9tL3NyYy9zaGFyZWQvZGFuZ2Vyb3VzU3R5bGVWYWx1ZS5qc1xuZnVuY3Rpb24gYWRkVW5pdElmTmVlZGVkKG5hbWUsIHZhbHVlKSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbWlsYWphY2svZXNsaW50LXBsdWdpbi1mbG93dHlwZS1lcnJvcnMvaXNzdWVzLzEzM1xuICAvLyAkRmxvd0ZpeE1lXG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICEobmFtZSBpbiB1bml0bGVzcykpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnOyAvLyBQcmVzdW1lcyBpbXBsaWNpdCAncHgnIHN1ZmZpeCBmb3IgdW5pdGxlc3MgbnVtYmVyc1xuICB9XG5cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSkudHJpbSgpO1xufVxuXG4vLyBcblxuLyoqXG4gKiBJdCdzIGZhbHNpc2ggbm90IGZhbHN5IGJlY2F1c2UgMCBpcyBhbGxvd2VkLlxuICovXG52YXIgaXNGYWxzaXNoID0gZnVuY3Rpb24gaXNGYWxzaXNoKGNodW5rKSB7XG4gIHJldHVybiBjaHVuayA9PT0gdW5kZWZpbmVkIHx8IGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSBmYWxzZSB8fCBjaHVuayA9PT0gJyc7XG59O1xuXG52YXIgb2JqVG9Dc3NBcnJheSA9IGZ1bmN0aW9uIG9ialRvQ3NzQXJyYXkob2JqLCBwcmV2S2V5KSB7XG4gIHZhciBydWxlcyA9IFtdO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWlzRmFsc2lzaChvYmpba2V5XSkpIHtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KG9ialtrZXldKSkge1xuICAgICAgICBydWxlcy5wdXNoLmFwcGx5KHJ1bGVzLCBvYmpUb0Nzc0FycmF5KG9ialtrZXldLCBrZXkpKTtcblxuICAgICAgICByZXR1cm4gcnVsZXM7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ob2JqW2tleV0pKSB7XG4gICAgICAgIHJ1bGVzLnB1c2goaHlwaGVuYXRlU3R5bGVOYW1lKGtleSkgKyAnOicsIG9ialtrZXldLCAnOycpO1xuXG4gICAgICAgIHJldHVybiBydWxlcztcbiAgICAgIH1cbiAgICAgIHJ1bGVzLnB1c2goaHlwaGVuYXRlU3R5bGVOYW1lKGtleSkgKyAnOiAnICsgYWRkVW5pdElmTmVlZGVkKGtleSwgb2JqW2tleV0pICsgJzsnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGVzO1xuICB9KTtcblxuICByZXR1cm4gcHJldktleSA/IFtwcmV2S2V5ICsgJyB7J10uY29uY2F0KHJ1bGVzLCBbJ30nXSkgOiBydWxlcztcbn07XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oY2h1bmssIGV4ZWN1dGlvbkNvbnRleHQsIHN0eWxlU2hlZXQpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2h1bmspKSB7XG4gICAgdmFyIHJ1bGVTZXQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaHVuay5sZW5ndGgsIHJlc3VsdDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICByZXN1bHQgPSBmbGF0dGVuKGNodW5rW2ldLCBleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgY29udGludWU7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSBydWxlU2V0LnB1c2guYXBwbHkocnVsZVNldCwgcmVzdWx0KTtlbHNlIHJ1bGVTZXQucHVzaChyZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlU2V0O1xuICB9XG5cbiAgaWYgKGlzRmFsc2lzaChjaHVuaykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIEhhbmRsZSBvdGhlciBjb21wb25lbnRzICovXG4gIGlmIChpc1N0eWxlZENvbXBvbmVudChjaHVuaykpIHtcbiAgICByZXR1cm4gJy4nICsgY2h1bmsuc3R5bGVkQ29tcG9uZW50SWQ7XG4gIH1cblxuICAvKiBFaXRoZXIgZXhlY3V0ZSBvciBkZWZlciB0aGUgZnVuY3Rpb24gKi9cbiAgaWYgKGlzRnVuY3Rpb24oY2h1bmspKSB7XG4gICAgaWYgKGlzU3RhdGVsZXNzRnVuY3Rpb24oY2h1bmspICYmIGV4ZWN1dGlvbkNvbnRleHQpIHtcbiAgICAgIHZhciBfcmVzdWx0ID0gY2h1bmsoZXhlY3V0aW9uQ29udGV4dCk7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRWxlbWVudChfcmVzdWx0KSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oZ2V0Q29tcG9uZW50TmFtZShjaHVuaykgKyAnIGlzIG5vdCBhIHN0eWxlZCBjb21wb25lbnQgYW5kIGNhbm5vdCBiZSByZWZlcnJlZCB0byB2aWEgY29tcG9uZW50IHNlbGVjdG9yLiBTZWUgaHR0cHM6Ly93d3cuc3R5bGVkLWNvbXBvbmVudHMuY29tL2RvY3MvYWR2YW5jZWQjcmVmZXJyaW5nLXRvLW90aGVyLWNvbXBvbmVudHMgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZsYXR0ZW4oX3Jlc3VsdCwgZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gICAgfSBlbHNlIHJldHVybiBjaHVuaztcbiAgfVxuXG4gIGlmIChjaHVuayBpbnN0YW5jZW9mIEtleWZyYW1lcykge1xuICAgIGlmIChzdHlsZVNoZWV0KSB7XG4gICAgICBjaHVuay5pbmplY3Qoc3R5bGVTaGVldCk7XG4gICAgICByZXR1cm4gY2h1bmsuZ2V0TmFtZSgpO1xuICAgIH0gZWxzZSByZXR1cm4gY2h1bms7XG4gIH1cblxuICAvKiBIYW5kbGUgb2JqZWN0cyAqL1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChjaHVuaykgPyBvYmpUb0Nzc0FycmF5KGNodW5rKSA6IGNodW5rLnRvU3RyaW5nKCk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBjc3Moc3R5bGVzKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBpbnRlcnBvbGF0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBpbnRlcnBvbGF0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoaXNGdW5jdGlvbihzdHlsZXMpIHx8IGlzUGxhaW5PYmplY3Qoc3R5bGVzKSkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICByZXR1cm4gZmxhdHRlbihpbnRlcmxlYXZlKEVNUFRZX0FSUkFZLCBbc3R5bGVzXS5jb25jYXQoaW50ZXJwb2xhdGlvbnMpKSk7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lXG4gIHJldHVybiBmbGF0dGVuKGludGVybGVhdmUoc3R5bGVzLCBpbnRlcnBvbGF0aW9ucykpO1xufVxuXG4vLyBcblxuZnVuY3Rpb24gY29uc3RydWN0V2l0aE9wdGlvbnMoY29tcG9uZW50Q29uc3RydWN0b3IsIHRhZykge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRU1QVFlfT0JKRUNUO1xuXG4gIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHRhZykpIHtcbiAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDEsIFN0cmluZyh0YWcpKTtcbiAgfVxuXG4gIC8qIFRoaXMgaXMgY2FsbGFibGUgZGlyZWN0bHkgYXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiAqL1xuICAvLyAkRmxvd0ZpeE1lOiBOb3QgdHlwZWQgdG8gYXZvaWQgZGVzdHJ1Y3R1cmluZyBhcmd1bWVudHNcbiAgdmFyIHRlbXBsYXRlRnVuY3Rpb24gPSBmdW5jdGlvbiB0ZW1wbGF0ZUZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb21wb25lbnRDb25zdHJ1Y3Rvcih0YWcsIG9wdGlvbnMsIGNzcy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIC8qIElmIGNvbmZpZyBtZXRob2RzIGFyZSBjYWxsZWQsIHdyYXAgdXAgYSBuZXcgdGVtcGxhdGUgZnVuY3Rpb24gYW5kIG1lcmdlIG9wdGlvbnMgKi9cbiAgdGVtcGxhdGVGdW5jdGlvbi53aXRoQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIHJldHVybiBjb25zdHJ1Y3RXaXRoT3B0aW9ucyhjb21wb25lbnRDb25zdHJ1Y3RvciwgdGFnLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywgY29uZmlnKSk7XG4gIH07XG5cbiAgLyogTW9kaWZ5L2luamVjdCBuZXcgcHJvcHMgYXQgcnVudGltZSAqL1xuICB0ZW1wbGF0ZUZ1bmN0aW9uLmF0dHJzID0gZnVuY3Rpb24gKGF0dHJzKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdFdpdGhPcHRpb25zKGNvbXBvbmVudENvbnN0cnVjdG9yLCB0YWcsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBhdHRyczogQXJyYXkucHJvdG90eXBlLmNvbmNhdChvcHRpb25zLmF0dHJzLCBhdHRycykuZmlsdGVyKEJvb2xlYW4pXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiB0ZW1wbGF0ZUZ1bmN0aW9uO1xufVxuXG4vLyBcbi8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2dhcnljb3VydC9tdXJtdXJoYXNoLWpzL2Jsb2IvbWFzdGVyL211cm11cmhhc2gyX2djLmpzXG5mdW5jdGlvbiBtdXJtdXJoYXNoKGMpIHtcbiAgZm9yICh2YXIgZSA9IGMubGVuZ3RoIHwgMCwgYSA9IGUgfCAwLCBkID0gMCwgYjsgZSA+PSA0Oykge1xuICAgIGIgPSBjLmNoYXJDb2RlQXQoZCkgJiAyNTUgfCAoYy5jaGFyQ29kZUF0KCsrZCkgJiAyNTUpIDw8IDggfCAoYy5jaGFyQ29kZUF0KCsrZCkgJiAyNTUpIDw8IDE2IHwgKGMuY2hhckNvZGVBdCgrK2QpICYgMjU1KSA8PCAyNCwgYiA9IDE1NDA0ODM0NzcgKiAoYiAmIDY1NTM1KSArICgoMTU0MDQ4MzQ3NyAqIChiID4+PiAxNikgJiA2NTUzNSkgPDwgMTYpLCBiIF49IGIgPj4+IDI0LCBiID0gMTU0MDQ4MzQ3NyAqIChiICYgNjU1MzUpICsgKCgxNTQwNDgzNDc3ICogKGIgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNiksIGEgPSAxNTQwNDgzNDc3ICogKGEgJiA2NTUzNSkgKyAoKDE1NDA0ODM0NzcgKiAoYSA+Pj4gMTYpICYgNjU1MzUpIDw8IDE2KSBeIGIsIGUgLT0gNCwgKytkO1xuICB9XG4gIHN3aXRjaCAoZSkge1xuICAgIGNhc2UgMzpcbiAgICAgIGEgXj0gKGMuY2hhckNvZGVBdChkICsgMikgJiAyNTUpIDw8IDE2O1xuICAgIGNhc2UgMjpcbiAgICAgIGEgXj0gKGMuY2hhckNvZGVBdChkICsgMSkgJiAyNTUpIDw8IDg7XG4gICAgY2FzZSAxOlxuICAgICAgYSBePSBjLmNoYXJDb2RlQXQoZCkgJiAyNTUsIGEgPSAxNTQwNDgzNDc3ICogKGEgJiA2NTUzNSkgKyAoKDE1NDA0ODM0NzcgKiAoYSA+Pj4gMTYpICYgNjU1MzUpIDw8IDE2KTtcbiAgfVxuICBhIF49IGEgPj4+IDEzO1xuICBhID0gMTU0MDQ4MzQ3NyAqIChhICYgNjU1MzUpICsgKCgxNTQwNDgzNDc3ICogKGEgPj4+IDE2KSAmIDY1NTM1KSA8PCAxNik7XG4gIHJldHVybiAoYSBeIGEgPj4+IDE1KSA+Pj4gMDtcbn1cblxuLy8gXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG5cbi8qIFRoaXMgaXMgdGhlIFwiY2FwYWNpdHlcIiBvZiBvdXIgYWxwaGFiZXQgaS5lLiAyeDI2IGZvciBhbGwgbGV0dGVycyBwbHVzIHRoZWlyIGNhcGl0YWxpc2VkXG4gKiBjb3VudGVycGFydHMgKi9cbnZhciBjaGFyc0xlbmd0aCA9IDUyO1xuXG4vKiBzdGFydCBhdCA3NSBmb3IgJ2EnIHVudGlsICd6JyAoMjUpIGFuZCB0aGVuIHN0YXJ0IGF0IDY1IGZvciBjYXBpdGFsaXNlZCBsZXR0ZXJzICovXG52YXIgZ2V0QWxwaGFiZXRpY0NoYXIgPSBmdW5jdGlvbiBnZXRBbHBoYWJldGljQ2hhcihjb2RlKSB7XG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAoY29kZSA+IDI1ID8gMzkgOiA5NykpO1xufTtcblxuLyogaW5wdXQgYSBudW1iZXIsIHVzdWFsbHkgYSBoYXNoIGFuZCBjb252ZXJ0IGl0IHRvIGJhc2UtNTIgKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQWxwaGFiZXRpY05hbWUoY29kZSkge1xuICB2YXIgbmFtZSA9ICcnO1xuICB2YXIgeCA9IHZvaWQgMDtcblxuICAvKiBnZXQgYSBjaGFyIGFuZCBkaXZpZGUgYnkgYWxwaGFiZXQtbGVuZ3RoICovXG4gIGZvciAoeCA9IGNvZGU7IHggPiBjaGFyc0xlbmd0aDsgeCA9IE1hdGguZmxvb3IoeCAvIGNoYXJzTGVuZ3RoKSkge1xuICAgIG5hbWUgPSBnZXRBbHBoYWJldGljQ2hhcih4ICUgY2hhcnNMZW5ndGgpICsgbmFtZTtcbiAgfVxuXG4gIHJldHVybiBnZXRBbHBoYWJldGljQ2hhcih4ICUgY2hhcnNMZW5ndGgpICsgbmFtZTtcbn1cblxuLy8gXG5cbmZ1bmN0aW9uIGhhc0Z1bmN0aW9uT2JqZWN0S2V5KG9iaikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluLCBuby1yZXN0cmljdGVkLXN5bnRheFxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqW2tleV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzU3RhdGljUnVsZXMocnVsZXMsIGF0dHJzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldO1xuXG4gICAgLy8gcmVjdXJzaXZlIGNhc2VcbiAgICBpZiAoQXJyYXkuaXNBcnJheShydWxlKSAmJiAhaXNTdGF0aWNSdWxlcyhydWxlLCBhdHRycykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocnVsZSkgJiYgIWlzU3R5bGVkQ29tcG9uZW50KHJ1bGUpKSB7XG4gICAgICAvLyBmdW5jdGlvbnMgYXJlIGFsbG93ZWQgdG8gYmUgc3RhdGljIGlmIHRoZXkncmUganVzdCBiZWluZ1xuICAgICAgLy8gdXNlZCB0byBnZXQgdGhlIGNsYXNzbmFtZSBvZiBhIG5lc3RlZCBzdHlsZWQgY29tcG9uZW50XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGF0dHJzLnNvbWUoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih4KSB8fCBoYXNGdW5jdGlvbk9iamVjdEtleSh4KTtcbiAgfSkpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gXG5cbi8qIGNvbWJpbmVzIGhhc2hTdHIgKG11cm11cmhhc2gpIGFuZCBuYW1lR2VuZXJhdG9yIGZvciBjb252ZW5pZW5jZSAqL1xudmFyIGhhc2hlciA9IGZ1bmN0aW9uIGhhc2hlcihzdHIpIHtcbiAgcmV0dXJuIGdlbmVyYXRlQWxwaGFiZXRpY05hbWUobXVybXVyaGFzaChzdHIpKTtcbn07XG5cbi8qXG4gQ29tcG9uZW50U3R5bGUgaXMgYWxsIHRoZSBDU1Mtc3BlY2lmaWMgc3R1ZmYsIG5vdFxuIHRoZSBSZWFjdC1zcGVjaWZpYyBzdHVmZi5cbiAqL1xuXG52YXIgQ29tcG9uZW50U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbXBvbmVudFN0eWxlKHJ1bGVzLCBhdHRycywgY29tcG9uZW50SWQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb25lbnRTdHlsZSk7XG5cbiAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgdGhpcy5pc1N0YXRpYyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgJiYgaXNTdGF0aWNSdWxlcyhydWxlcywgYXR0cnMpO1xuICAgIHRoaXMuY29tcG9uZW50SWQgPSBjb21wb25lbnRJZDtcblxuICAgIGlmICghU3R5bGVTaGVldC5tYXN0ZXIuaGFzSWQoY29tcG9uZW50SWQpKSB7XG4gICAgICBTdHlsZVNoZWV0Lm1hc3Rlci5kZWZlcnJlZEluamVjdChjb21wb25lbnRJZCwgW10pO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIEZsYXR0ZW5zIGEgcnVsZSBzZXQgaW50byB2YWxpZCBDU1NcbiAgICogSGFzaGVzIGl0LCB3cmFwcyB0aGUgd2hvbGUgY2h1bmsgaW4gYSAuaGFzaDEyMzQge31cbiAgICogUmV0dXJucyB0aGUgaGFzaCB0byBiZSBpbmplY3RlZCBvbiByZW5kZXIoKVxuICAgKiAqL1xuXG5cbiAgQ29tcG9uZW50U3R5bGUucHJvdG90eXBlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzID0gZnVuY3Rpb24gZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMoZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCkge1xuICAgIHZhciBpc1N0YXRpYyA9IHRoaXMuaXNTdGF0aWMsXG4gICAgICAgIGNvbXBvbmVudElkID0gdGhpcy5jb21wb25lbnRJZCxcbiAgICAgICAgbGFzdENsYXNzTmFtZSA9IHRoaXMubGFzdENsYXNzTmFtZTtcblxuICAgIGlmIChJU19CUk9XU0VSICYmIGlzU3RhdGljICYmIHR5cGVvZiBsYXN0Q2xhc3NOYW1lID09PSAnc3RyaW5nJyAmJiBzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChjb21wb25lbnRJZCwgbGFzdENsYXNzTmFtZSkpIHtcbiAgICAgIHJldHVybiBsYXN0Q2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHZhciBmbGF0Q1NTID0gZmxhdHRlbih0aGlzLnJ1bGVzLCBleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KTtcbiAgICB2YXIgbmFtZSA9IGhhc2hlcih0aGlzLmNvbXBvbmVudElkICsgZmxhdENTUy5qb2luKCcnKSk7XG4gICAgaWYgKCFzdHlsZVNoZWV0Lmhhc05hbWVGb3JJZChjb21wb25lbnRJZCwgbmFtZSkpIHtcbiAgICAgIHN0eWxlU2hlZXQuaW5qZWN0KHRoaXMuY29tcG9uZW50SWQsIHN0cmluZ2lmeVJ1bGVzKGZsYXRDU1MsICcuJyArIG5hbWUsIHVuZGVmaW5lZCwgY29tcG9uZW50SWQpLCBuYW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIENvbXBvbmVudFN0eWxlLmdlbmVyYXRlTmFtZSA9IGZ1bmN0aW9uIGdlbmVyYXRlTmFtZShzdHIpIHtcbiAgICByZXR1cm4gaGFzaGVyKHN0cik7XG4gIH07XG5cbiAgcmV0dXJuIENvbXBvbmVudFN0eWxlO1xufSgpO1xuXG4vLyBcblxudmFyIExJTUlUID0gMjAwO1xuXG52YXIgY3JlYXRlV2FyblRvb01hbnlDbGFzc2VzID0gKGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICB2YXIgZ2VuZXJhdGVkQ2xhc3NlcyA9IHt9O1xuICB2YXIgd2FybmluZ1NlZW4gPSBmYWxzZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGlmICghd2FybmluZ1NlZW4pIHtcbiAgICAgIGdlbmVyYXRlZENsYXNzZXNbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoZ2VuZXJhdGVkQ2xhc3NlcykubGVuZ3RoID49IExJTUlUKSB7XG4gICAgICAgIC8vIFVuYWJsZSB0byBmaW5kIGxhdGVzdFJ1bGUgaW4gdGVzdCBlbnZpcm9ubWVudC5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSwgcHJlZmVyLXRlbXBsYXRlICovXG4gICAgICAgIGNvbnNvbGUud2FybignT3ZlciAnICsgTElNSVQgKyAnIGNsYXNzZXMgd2VyZSBnZW5lcmF0ZWQgZm9yIGNvbXBvbmVudCAnICsgZGlzcGxheU5hbWUgKyAnLiBcXG4nICsgJ0NvbnNpZGVyIHVzaW5nIHRoZSBhdHRycyBtZXRob2QsIHRvZ2V0aGVyIHdpdGggYSBzdHlsZSBvYmplY3QgZm9yIGZyZXF1ZW50bHkgY2hhbmdlZCBzdHlsZXMuXFxuJyArICdFeGFtcGxlOlxcbicgKyAnICBjb25zdCBDb21wb25lbnQgPSBzdHlsZWQuZGl2LmF0dHJzKHByb3BzID0+ICh7XFxuJyArICcgICAgc3R5bGU6IHtcXG4nICsgJyAgICAgIGJhY2tncm91bmQ6IHByb3BzLmJhY2tncm91bmQsXFxuJyArICcgICAgfSxcXG4nICsgJyAgfSkpYHdpZHRoOiAxMDAlO2BcXG5cXG4nICsgJyAgPENvbXBvbmVudCAvPicpO1xuICAgICAgICB3YXJuaW5nU2VlbiA9IHRydWU7XG4gICAgICAgIGdlbmVyYXRlZENsYXNzZXMgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuLy8gXG5cbnZhciBkZXRlcm1pbmVUaGVtZSA9IChmdW5jdGlvbiAocHJvcHMsIGZhbGxiYWNrVGhlbWUpIHtcbiAgdmFyIGRlZmF1bHRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogRU1QVFlfT0JKRUNUO1xuXG4gIC8vIFByb3BzIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBUaGVtZVByb3ZpZGVyLCB3aGljaCBzaG91bGQgdGFrZSBwcmVjZWRlbmNlIG92ZXJcbiAgLy8gZGVmYXVsdFByb3BzLCBidXQgUmVhY3QgYXV0b21hdGljYWxseSBwdXRzIGRlZmF1bHRQcm9wcyBvbiBwcm9wcy5cblxuICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzLCBmbG93dHlwZS1lcnJvcnMvc2hvdy1lcnJvcnMgKi9cbiAgdmFyIGlzRGVmYXVsdFRoZW1lID0gZGVmYXVsdFByb3BzID8gcHJvcHMudGhlbWUgPT09IGRlZmF1bHRQcm9wcy50aGVtZSA6IGZhbHNlO1xuICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZSAmJiAhaXNEZWZhdWx0VGhlbWUgPyBwcm9wcy50aGVtZSA6IGZhbGxiYWNrVGhlbWUgfHwgZGVmYXVsdFByb3BzLnRoZW1lO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgcmV0dXJuIHRoZW1lO1xufSk7XG5cbi8vIFxudmFyIGVzY2FwZVJlZ2V4ID0gL1tbXFxdLiMqJD48K349fF46KCksXCInYC1dKy9nO1xudmFyIGRhc2hlc0F0RW5kcyA9IC8oXi18LSQpL2c7XG5cbi8qKlxuICogVE9ETzogRXhwbG9yZSB1c2luZyBDU1MuZXNjYXBlIHdoZW4gaXQgYmVjb21lcyBtb3JlIGF2YWlsYWJsZVxuICogaW4gZXZlcmdyZWVuIGJyb3dzZXJzLlxuICovXG5mdW5jdGlvbiBlc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHJcbiAgLy8gUmVwbGFjZSBhbGwgcG9zc2libGUgQ1NTIHNlbGVjdG9yc1xuICAucmVwbGFjZShlc2NhcGVSZWdleCwgJy0nKVxuXG4gIC8vIFJlbW92ZSBleHRyYW5lb3VzIGh5cGhlbnMgYXQgdGhlIHN0YXJ0IGFuZCBlbmRcbiAgLnJlcGxhY2UoZGFzaGVzQXRFbmRzLCAnJyk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBpc1RhZyh0YXJnZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gdGFyZ2V0LmNoYXJBdCgwKSA9PT0gdGFyZ2V0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpIDogdHJ1ZSk7XG59XG5cbi8vIFxuXG5mdW5jdGlvbiBnZW5lcmF0ZURpc3BsYXlOYW1lKHRhcmdldCkge1xuICAvLyAkRmxvd0ZpeE1lXG4gIHJldHVybiBpc1RhZyh0YXJnZXQpID8gJ3N0eWxlZC4nICsgdGFyZ2V0IDogJ1N0eWxlZCgnICsgZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpICsgJyknO1xufVxuXG52YXIgX1RZUEVfU1RBVElDUztcblxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgbmFtZTogdHJ1ZSxcbiAgbGVuZ3RoOiB0cnVlLFxuICBwcm90b3R5cGU6IHRydWUsXG4gIGNhbGxlcjogdHJ1ZSxcbiAgY2FsbGVlOiB0cnVlLFxuICBhcmd1bWVudHM6IHRydWUsXG4gIGFyaXR5OiB0cnVlXG59O1xuXG52YXIgVFlQRV9TVEFUSUNTID0gKF9UWVBFX1NUQVRJQ1MgPSB7fSwgX1RZUEVfU1RBVElDU1tGb3J3YXJkUmVmXSA9IHtcbiAgJCR0eXBlb2Y6IHRydWUsXG4gIHJlbmRlcjogdHJ1ZVxufSwgX1RZUEVfU1RBVElDUyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSQxID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICAgIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICBfT2JqZWN0JGdldE93blByb3BlcnQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIGdldE93blByb3BlcnR5U3ltYm9scyA9IF9PYmplY3QkZ2V0T3duUHJvcGVydCA9PT0gdW5kZWZpbmVkID8gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gW107XG59IDogX09iamVjdCRnZXRPd25Qcm9wZXJ0LFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbnZhciBhcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuXG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gYXJyYXlQcm90b3R5cGUuY29uY2F0KGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KSxcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBUWVBFX1NUQVRJQ1NbdGFyZ2V0Q29tcG9uZW50LiQkdHlwZW9mXSB8fCBSRUFDVF9TVEFUSUNTO1xuXG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBUWVBFX1NUQVRJQ1Nbc291cmNlQ29tcG9uZW50LiQkdHlwZW9mXSB8fCBSRUFDVF9TVEFUSUNTO1xuXG4gICAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHZvaWQgMDtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBsdXNwbHVzXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKFxuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiZcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8qIGZhaWwgc2lsZW50bHkgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxuLy8gXG5mdW5jdGlvbiBpc0Rlcml2ZWRSZWFjdENvbXBvbmVudChmbikge1xuICByZXR1cm4gISEoZm4gJiYgZm4ucHJvdG90eXBlICYmIGZuLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuLy8gXG4vLyBIZWxwZXIgdG8gY2FsbCBhIGdpdmVuIGZ1bmN0aW9uLCBvbmx5IG9uY2VcbnZhciBvbmNlID0gKGZ1bmN0aW9uIChjYikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGNiLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59KTtcblxuLy8gXG5cbnZhciBUaGVtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbnZhciBUaGVtZUNvbnN1bWVyID0gVGhlbWVDb250ZXh0LkNvbnN1bWVyO1xuXG4vKipcbiAqIFByb3ZpZGUgYSB0aGVtZSB0byBhbiBlbnRpcmUgcmVhY3QgY29tcG9uZW50IHRyZWUgdmlhIGNvbnRleHRcbiAqL1xuXG52YXIgVGhlbWVQcm92aWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFRoZW1lUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBUaGVtZVByb3ZpZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5nZXRDb250ZXh0ID0gbWVtb2l6ZShfdGhpcy5nZXRDb250ZXh0LmJpbmQoX3RoaXMpKTtcbiAgICBfdGhpcy5yZW5kZXJJbm5lciA9IF90aGlzLnJlbmRlcklubmVyLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRoZW1lUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuY2hpbGRyZW4pIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBUaGVtZUNvbnRleHQuQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yZW5kZXJJbm5lclxuICAgICk7XG4gIH07XG5cbiAgVGhlbWVQcm92aWRlci5wcm90b3R5cGUucmVuZGVySW5uZXIgPSBmdW5jdGlvbiByZW5kZXJJbm5lcihvdXRlclRoZW1lKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLmdldENvbnRleHQodGhpcy5wcm9wcy50aGVtZSwgb3V0ZXJUaGVtZSk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHsgdmFsdWU6IGNvbnRleHQgfSxcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRoZW1lIGZyb20gdGhlIHByb3BzLCBzdXBwb3J0aW5nIGJvdGggKG91dGVyVGhlbWUpID0+IHt9XG4gICAqIGFzIHdlbGwgYXMgb2JqZWN0IG5vdGF0aW9uXG4gICAqL1xuXG5cbiAgVGhlbWVQcm92aWRlci5wcm90b3R5cGUuZ2V0VGhlbWUgPSBmdW5jdGlvbiBnZXRUaGVtZSh0aGVtZSwgb3V0ZXJUaGVtZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoZW1lKSkge1xuICAgICAgdmFyIG1lcmdlZFRoZW1lID0gdGhlbWUob3V0ZXJUaGVtZSk7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChtZXJnZWRUaGVtZSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KG1lcmdlZFRoZW1lKSB8fCAodHlwZW9mIG1lcmdlZFRoZW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihtZXJnZWRUaGVtZSkpICE9PSAnb2JqZWN0JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcig3KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lcmdlZFRoZW1lO1xuICAgIH1cblxuICAgIGlmICh0aGVtZSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KHRoZW1lKSB8fCAodHlwZW9mIHRoZW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0aGVtZSkpICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFN0eWxlZENvbXBvbmVudHNFcnJvcig4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIG91dGVyVGhlbWUsIHRoZW1lKTtcbiAgfTtcblxuICBUaGVtZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q29udGV4dCh0aGVtZSwgb3V0ZXJUaGVtZSkge1xuICAgIHJldHVybiB0aGlzLmdldFRoZW1lKHRoZW1lLCBvdXRlclRoZW1lKTtcbiAgfTtcblxuICByZXR1cm4gVGhlbWVQcm92aWRlcjtcbn0oQ29tcG9uZW50KTtcblxuLy8gXG5cbnZhciBDTE9TSU5HX1RBR19SID0gL15cXHMqPFxcL1thLXpdL2k7XG5cbnZhciBTZXJ2ZXJTdHlsZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZXJ2ZXJTdHlsZVNoZWV0KCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZlclN0eWxlU2hlZXQpO1xuXG4gICAgLyogVGhlIG1hc3RlciBzaGVldCBtaWdodCBiZSByZXNldCwgc28ga2VlcCBhIHJlZmVyZW5jZSBoZXJlICovXG4gICAgdGhpcy5tYXN0ZXJTaGVldCA9IFN0eWxlU2hlZXQubWFzdGVyO1xuICAgIHRoaXMuaW5zdGFuY2UgPSB0aGlzLm1hc3RlclNoZWV0LmNsb25lKCk7XG4gICAgdGhpcy5zZWFsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIHRoZSBTZXJ2ZXJTdHlsZVNoZWV0IGFzIGJlaW5nIGZ1bGx5IGVtaXR0ZWQgYW5kIG1hbnVhbGx5IEdDIGl0IGZyb20gdGhlXG4gICAqIFN0eWxlU2hlZXQgc2luZ2xldG9uLlxuICAgKi9cblxuXG4gIFNlcnZlclN0eWxlU2hlZXQucHJvdG90eXBlLnNlYWwgPSBmdW5jdGlvbiBzZWFsKCkge1xuICAgIGlmICghdGhpcy5zZWFsZWQpIHtcbiAgICAgIC8qIFJlbW92ZSBzZWFsZWQgU3R5bGVTaGVldHMgZnJvbSB0aGUgbWFzdGVyIHNoZWV0ICovXG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1hc3RlclNoZWV0LmNsb25lcy5pbmRleE9mKHRoaXMuaW5zdGFuY2UpO1xuICAgICAgdGhpcy5tYXN0ZXJTaGVldC5jbG9uZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMuc2VhbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgU2VydmVyU3R5bGVTaGVldC5wcm90b3R5cGUuY29sbGVjdFN0eWxlcyA9IGZ1bmN0aW9uIGNvbGxlY3RTdHlsZXMoY2hpbGRyZW4pIHtcbiAgICBpZiAodGhpcy5zZWFsZWQpIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHlsZVNoZWV0TWFuYWdlcixcbiAgICAgIHsgc2hlZXQ6IHRoaXMuaW5zdGFuY2UgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgKTtcbiAgfTtcblxuICBTZXJ2ZXJTdHlsZVNoZWV0LnByb3RvdHlwZS5nZXRTdHlsZVRhZ3MgPSBmdW5jdGlvbiBnZXRTdHlsZVRhZ3MoKSB7XG4gICAgdGhpcy5zZWFsKCk7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UudG9IVE1MKCk7XG4gIH07XG5cbiAgU2VydmVyU3R5bGVTaGVldC5wcm90b3R5cGUuZ2V0U3R5bGVFbGVtZW50ID0gZnVuY3Rpb24gZ2V0U3R5bGVFbGVtZW50KCkge1xuICAgIHRoaXMuc2VhbCgpO1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlLnRvUmVhY3RFbGVtZW50cygpO1xuICB9O1xuXG4gIFNlcnZlclN0eWxlU2hlZXQucHJvdG90eXBlLmludGVybGVhdmVXaXRoTm9kZVN0cmVhbSA9IGZ1bmN0aW9uIGludGVybGVhdmVXaXRoTm9kZVN0cmVhbShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB7XG4gICAgICB0aHJvdyBuZXcgU3R5bGVkQ29tcG9uZW50c0Vycm9yKDMpO1xuICAgIH1cblxuICAgIC8qIHRoZSB0YWcgaW5kZXgga2VlcHMgdHJhY2sgb2Ygd2hpY2ggdGFncyBoYXZlIGFscmVhZHkgYmVlbiBlbWl0dGVkICovXG4gICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblxuICAgIHZhciBpbnN0YW5jZVRhZ0luZGV4ID0gMDtcblxuICAgIHZhciBzdHJlYW1BdHRyID0gU0NfU1RSRUFNX0FUVFIgKyAnPVwidHJ1ZVwiJztcblxuICAgIHZhciB0cmFuc2Zvcm1lciA9IG5ldyBzdHJlYW0uVHJhbnNmb3JtKHtcbiAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gYXBwZW5kU3R5bGVDaHVua3MoY2h1bmssIC8qIGVuY29kaW5nICovXywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHRhZ3MgPSBpbnN0YW5jZS50YWdzO1xuXG4gICAgICAgIHZhciBodG1sID0gJyc7XG5cbiAgICAgICAgLyogcmV0cmlldmUgaHRtbCBmb3IgZWFjaCBuZXcgc3R5bGUgdGFnICovXG4gICAgICAgIGZvciAoOyBpbnN0YW5jZVRhZ0luZGV4IDwgdGFncy5sZW5ndGg7IGluc3RhbmNlVGFnSW5kZXggKz0gMSkge1xuICAgICAgICAgIHZhciB0YWcgPSB0YWdzW2luc3RhbmNlVGFnSW5kZXhdO1xuICAgICAgICAgIGh0bWwgKz0gdGFnLnRvSFRNTChzdHJlYW1BdHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGZvcmNlIG91ciBTdHlsZVNoZWV0cyB0byBlbWl0IGVudGlyZWx5IG5ldyB0YWdzICovXG4gICAgICAgIGluc3RhbmNlLnNlYWxBbGxUYWdzKCk7XG5cbiAgICAgICAgdmFyIHJlbmRlcmVkSHRtbCA9IGNodW5rLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgLyogcHJlcGVuZCBzdHlsZSBodG1sIHRvIGNodW5rLCB1bmxlc3MgdGhlIHN0YXJ0IG9mIHRoZSBjaHVuayBpcyBhIGNsb3NpbmcgdGFnIGluIHdoaWNoIGNhc2UgYXBwZW5kIHJpZ2h0IGFmdGVyIHRoYXQgKi9cbiAgICAgICAgaWYgKENMT1NJTkdfVEFHX1IudGVzdChyZW5kZXJlZEh0bWwpKSB7XG4gICAgICAgICAgdmFyIGVuZE9mQ2xvc2luZ1RhZyA9IHJlbmRlcmVkSHRtbC5pbmRleE9mKCc+Jyk7XG5cbiAgICAgICAgICB0aGlzLnB1c2gocmVuZGVyZWRIdG1sLnNsaWNlKDAsIGVuZE9mQ2xvc2luZ1RhZyArIDEpICsgaHRtbCArIHJlbmRlcmVkSHRtbC5zbGljZShlbmRPZkNsb3NpbmdUYWcgKyAxKSk7XG4gICAgICAgIH0gZWxzZSB0aGlzLnB1c2goaHRtbCArIHJlbmRlcmVkSHRtbCk7XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWRhYmxlU3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2VhbCgpO1xuICAgIH0pO1xuXG4gICAgcmVhZGFibGVTdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgX3RoaXMuc2VhbCgpO1xuXG4gICAgICAvLyBmb3J3YXJkIHRoZSBlcnJvciB0byB0aGUgdHJhbnNmb3JtIHN0cmVhbVxuICAgICAgdHJhbnNmb3JtZXIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlYWRhYmxlU3RyZWFtLnBpcGUodHJhbnNmb3JtZXIpO1xuICB9O1xuXG4gIHJldHVybiBTZXJ2ZXJTdHlsZVNoZWV0O1xufSgpO1xuXG4vLyBcblxudmFyIFN0eWxlU2hlZXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xudmFyIFN0eWxlU2hlZXRDb25zdW1lciA9IFN0eWxlU2hlZXRDb250ZXh0LkNvbnN1bWVyO1xuXG52YXIgU3R5bGVTaGVldE1hbmFnZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhTdHlsZVNoZWV0TWFuYWdlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3R5bGVTaGVldE1hbmFnZXIocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZVNoZWV0TWFuYWdlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuZ2V0Q29udGV4dCA9IG1lbW9pemUoX3RoaXMuZ2V0Q29udGV4dCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3R5bGVTaGVldE1hbmFnZXIucHJvdG90eXBlLmdldENvbnRleHQgPSBmdW5jdGlvbiBnZXRDb250ZXh0KHNoZWV0LCB0YXJnZXQpIHtcbiAgICBpZiAoc2hlZXQpIHtcbiAgICAgIHJldHVybiBzaGVldDtcbiAgICB9IGVsc2UgaWYgKHRhcmdldCkge1xuICAgICAgcmV0dXJuIG5ldyBTdHlsZVNoZWV0KHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBTdHlsZWRDb21wb25lbnRzRXJyb3IoNCk7XG4gICAgfVxuICB9O1xuXG4gIFN0eWxlU2hlZXRNYW5hZ2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICBzaGVldCA9IF9wcm9wcy5zaGVldCxcbiAgICAgICAgdGFyZ2V0ID0gX3Byb3BzLnRhcmdldDtcblxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHlsZVNoZWV0Q29udGV4dC5Qcm92aWRlcixcbiAgICAgIHsgdmFsdWU6IHRoaXMuZ2V0Q29udGV4dChzaGVldCwgdGFyZ2V0KSB9LFxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pIDogY2hpbGRyZW5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZVNoZWV0TWFuYWdlcjtcbn0oQ29tcG9uZW50KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN0eWxlU2hlZXRNYW5hZ2VyLnByb3BUeXBlcyA9IHtcbiAgc2hlZXQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5pbnN0YW5jZU9mKFN0eWxlU2hlZXQpLCBQcm9wVHlwZXMuaW5zdGFuY2VPZihTZXJ2ZXJTdHlsZVNoZWV0KV0pLFxuXG4gIHRhcmdldDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlbmRDaGlsZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9KVxufSA6IHZvaWQgMDtcblxuLy8gXG5cbnZhciBpZGVudGlmaWVycyA9IHt9O1xuXG4vKiBXZSBkZXBlbmQgb24gY29tcG9uZW50cyBoYXZpbmcgdW5pcXVlIElEcyAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVJZChfQ29tcG9uZW50U3R5bGUsIF9kaXNwbGF5TmFtZSwgcGFyZW50Q29tcG9uZW50SWQpIHtcbiAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIF9kaXNwbGF5TmFtZSAhPT0gJ3N0cmluZycgPyAnc2MnIDogZXNjYXBlKF9kaXNwbGF5TmFtZSk7XG5cbiAgLyoqXG4gICAqIFRoaXMgZW5zdXJlcyB1bmlxdWVuZXNzIGlmIHR3byBjb21wb25lbnRzIGhhcHBlbiB0byBzaGFyZVxuICAgKiB0aGUgc2FtZSBkaXNwbGF5TmFtZS5cbiAgICovXG4gIHZhciBuciA9IChpZGVudGlmaWVyc1tkaXNwbGF5TmFtZV0gfHwgMCkgKyAxO1xuICBpZGVudGlmaWVyc1tkaXNwbGF5TmFtZV0gPSBucjtcblxuICB2YXIgY29tcG9uZW50SWQgPSBkaXNwbGF5TmFtZSArICctJyArIF9Db21wb25lbnRTdHlsZS5nZW5lcmF0ZU5hbWUoZGlzcGxheU5hbWUgKyBucik7XG5cbiAgcmV0dXJuIHBhcmVudENvbXBvbmVudElkID8gcGFyZW50Q29tcG9uZW50SWQgKyAnLScgKyBjb21wb25lbnRJZCA6IGNvbXBvbmVudElkO1xufVxuXG4vLyAkRmxvd0ZpeE1lXG5cbnZhciBTdHlsZWRDb21wb25lbnQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhTdHlsZWRDb21wb25lbnQsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0eWxlZENvbXBvbmVudCgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZWRDb21wb25lbnQpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuYXR0cnMgPSB7fTtcblxuICAgIF90aGlzLnJlbmRlck91dGVyID0gX3RoaXMucmVuZGVyT3V0ZXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMucmVuZGVySW5uZXIgPSBfdGhpcy5yZW5kZXJJbm5lci5iaW5kKF90aGlzKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBfdGhpcy53YXJuSW5uZXJSZWYgPSBvbmNlKGZ1bmN0aW9uIChkaXNwbGF5TmFtZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgXCJpbm5lclJlZlwiIEFQSSBoYXMgYmVlbiByZW1vdmVkIGluIHN0eWxlZC1jb21wb25lbnRzIHY0IGluIGZhdm9yIG9mIFJlYWN0IDE2IHJlZiBmb3J3YXJkaW5nLCB1c2UgXCJyZWZcIiBpbnN0ZWFkIGxpa2UgYSB0eXBpY2FsIGNvbXBvbmVudC4gXCJpbm5lclJlZlwiIHdhcyBkZXRlY3RlZCBvbiBjb21wb25lbnQgXCInICsgZGlzcGxheU5hbWUgKyAnXCIuJylcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy53YXJuQXR0cnNGbk9iamVjdEtleURlcHJlY2F0ZWQgPSBvbmNlKGZ1bmN0aW9uIChrZXksIGRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Z1bmN0aW9ucyBhcyBvYmplY3QtZm9ybSBhdHRycyh7fSkga2V5cyBhcmUgbm93IGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIHN0eWxlZC1jb21wb25lbnRzLiBTd2l0Y2ggdG8gdGhlIG5ldyBhdHRycyhwcm9wcyA9PiAoe30pKSBzeW50YXggaW5zdGVhZCBmb3IgZWFzaWVyIGFuZCBtb3JlIHBvd2VyZnVsIGNvbXBvc2l0aW9uLiBUaGUgYXR0cnMga2V5IGluIHF1ZXN0aW9uIGlzIFwiJyArIGtleSArICdcIiBvbiBjb21wb25lbnQgXCInICsgZGlzcGxheU5hbWUgKyAnXCIuJywgJ1xcbiAnICsgbmV3IEVycm9yKCkuc3RhY2spXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMud2Fybk5vblN0eWxlZENvbXBvbmVudEF0dHJzT2JqZWN0S2V5ID0gb25jZShmdW5jdGlvbiAoa2V5LCBkaXNwbGF5TmFtZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdJdCBsb29rcyBsaWtlIHlvdVxcJ3ZlIHVzZWQgYSBub24gc3R5bGVkLWNvbXBvbmVudCBhcyB0aGUgdmFsdWUgZm9yIHRoZSBcIicgKyBrZXkgKyAnXCIgcHJvcCBpbiBhbiBvYmplY3QtZm9ybSBhdHRycyBjb25zdHJ1Y3RvciBvZiBcIicgKyBkaXNwbGF5TmFtZSArICdcIi5cXG4nICsgJ1lvdSBzaG91bGQgdXNlIHRoZSBuZXcgZnVuY3Rpb24tZm9ybSBhdHRycyBjb25zdHJ1Y3RvciB3aGljaCBhdm9pZHMgdGhpcyBpc3N1ZTogYXR0cnMocHJvcHMgPT4gKHsgeW91clN0dWZmIH0pKVxcbicgKyBcIlRvIGNvbnRpbnVlIHVzaW5nIHRoZSBkZXByZWNhdGVkIG9iamVjdCBzeW50YXgsIHlvdSdsbCBuZWVkIHRvIHdyYXAgeW91ciBjb21wb25lbnQgcHJvcCBpbiBhIGZ1bmN0aW9uIHRvIG1ha2UgaXQgYXZhaWxhYmxlIGluc2lkZSB0aGUgc3R5bGVkIGNvbXBvbmVudCAoeW91J2xsIHN0aWxsIGdldCB0aGUgZGVwcmVjYXRpb24gd2FybmluZyB0aG91Z2guKVxcblwiICsgKCdGb3IgZXhhbXBsZSwgeyAnICsga2V5ICsgJzogKCkgPT4gSW5uZXJDb21wb25lbnQgfSBpbnN0ZWFkIG9mIHsgJyArIGtleSArICc6IElubmVyQ29tcG9uZW50IH0nKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdHlsZWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0eWxlU2hlZXRDb25zdW1lcixcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLnJlbmRlck91dGVyXG4gICAgKTtcbiAgfTtcblxuICBTdHlsZWRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlck91dGVyID0gZnVuY3Rpb24gcmVuZGVyT3V0ZXIoKSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFN0eWxlU2hlZXQubWFzdGVyO1xuXG4gICAgdGhpcy5zdHlsZVNoZWV0ID0gc3R5bGVTaGVldDtcblxuICAgIC8vIE5vIG5lZWQgdG8gc3Vic2NyaWJlIGEgc3RhdGljIGNvbXBvbmVudCB0byB0aGVtZSBjaGFuZ2VzLCBpdCB3b24ndCBjaGFuZ2UgYW55dGhpbmdcbiAgICBpZiAodGhpcy5wcm9wcy5mb3J3YXJkZWRDb21wb25lbnQuY29tcG9uZW50U3R5bGUuaXNTdGF0aWMpIHJldHVybiB0aGlzLnJlbmRlcklubmVyKCk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yZW5kZXJJbm5lclxuICAgICk7XG4gIH07XG5cbiAgU3R5bGVkQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJJbm5lciA9IGZ1bmN0aW9uIHJlbmRlcklubmVyKHRoZW1lKSB7XG4gICAgdmFyIF9wcm9wcyRmb3J3YXJkZWRDb21wbyA9IHRoaXMucHJvcHMuZm9yd2FyZGVkQ29tcG9uZW50LFxuICAgICAgICBjb21wb25lbnRTdHlsZSA9IF9wcm9wcyRmb3J3YXJkZWRDb21wby5jb21wb25lbnRTdHlsZSxcbiAgICAgICAgZGVmYXVsdFByb3BzID0gX3Byb3BzJGZvcndhcmRlZENvbXBvLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgZGlzcGxheU5hbWUgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8uZGlzcGxheU5hbWUsXG4gICAgICAgIGZvbGRlZENvbXBvbmVudElkcyA9IF9wcm9wcyRmb3J3YXJkZWRDb21wby5mb2xkZWRDb21wb25lbnRJZHMsXG4gICAgICAgIHN0eWxlZENvbXBvbmVudElkID0gX3Byb3BzJGZvcndhcmRlZENvbXBvLnN0eWxlZENvbXBvbmVudElkLFxuICAgICAgICB0YXJnZXQgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8udGFyZ2V0O1xuXG5cbiAgICB2YXIgZ2VuZXJhdGVkQ2xhc3NOYW1lID0gdm9pZCAwO1xuICAgIGlmIChjb21wb25lbnRTdHlsZS5pc1N0YXRpYykge1xuICAgICAgZ2VuZXJhdGVkQ2xhc3NOYW1lID0gdGhpcy5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFTVBUWV9PQkpFQ1QsIHRoaXMucHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZWRDbGFzc05hbWUgPSB0aGlzLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKGRldGVybWluZVRoZW1lKHRoaXMucHJvcHMsIHRoZW1lLCBkZWZhdWx0UHJvcHMpIHx8IEVNUFRZX09CSkVDVCwgdGhpcy5wcm9wcyk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnRUb0JlQ3JlYXRlZCA9IHRoaXMucHJvcHMuYXMgfHwgdGhpcy5hdHRycy5hcyB8fCB0YXJnZXQ7XG4gICAgdmFyIGlzVGFyZ2V0VGFnID0gaXNUYWcoZWxlbWVudFRvQmVDcmVhdGVkKTtcblxuICAgIHZhciBwcm9wc0ZvckVsZW1lbnQgPSB7fTtcbiAgICB2YXIgY29tcHV0ZWRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB0aGlzLmF0dHJzKTtcblxuICAgIHZhciBrZXkgPSB2b2lkIDA7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgIGZvciAoa2V5IGluIGNvbXB1dGVkUHJvcHMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGtleSA9PT0gJ2lubmVyUmVmJyAmJiBpc1RhcmdldFRhZykge1xuICAgICAgICB0aGlzLndhcm5Jbm5lclJlZihkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICdmb3J3YXJkZWRDb21wb25lbnQnIHx8IGtleSA9PT0gJ2FzJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZm9yd2FyZGVkUmVmJykgcHJvcHNGb3JFbGVtZW50LnJlZiA9IGNvbXB1dGVkUHJvcHNba2V5XTtlbHNlIGlmIChrZXkgPT09ICdmb3J3YXJkZWRBcycpIHByb3BzRm9yRWxlbWVudC5hcyA9IGNvbXB1dGVkUHJvcHNba2V5XTtlbHNlIGlmICghaXNUYXJnZXRUYWcgfHwgdmFsaWRBdHRyKGtleSkpIHtcbiAgICAgICAgLy8gRG9uJ3QgcGFzcyB0aHJvdWdoIG5vbiBIVE1MIHRhZ3MgdGhyb3VnaCB0byBIVE1MIGVsZW1lbnRzXG4gICAgICAgIHByb3BzRm9yRWxlbWVudFtrZXldID0gY29tcHV0ZWRQcm9wc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnN0eWxlICYmIHRoaXMuYXR0cnMuc3R5bGUpIHtcbiAgICAgIHByb3BzRm9yRWxlbWVudC5zdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLmF0dHJzLnN0eWxlLCB0aGlzLnByb3BzLnN0eWxlKTtcbiAgICB9XG5cbiAgICBwcm9wc0ZvckVsZW1lbnQuY2xhc3NOYW1lID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdChmb2xkZWRDb21wb25lbnRJZHMsIHN0eWxlZENvbXBvbmVudElkLCBnZW5lcmF0ZWRDbGFzc05hbWUgIT09IHN0eWxlZENvbXBvbmVudElkID8gZ2VuZXJhdGVkQ2xhc3NOYW1lIDogbnVsbCwgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHRoaXMuYXR0cnMuY2xhc3NOYW1lKS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoZWxlbWVudFRvQmVDcmVhdGVkLCBwcm9wc0ZvckVsZW1lbnQpO1xuICB9O1xuXG4gIFN0eWxlZENvbXBvbmVudC5wcm90b3R5cGUuYnVpbGRFeGVjdXRpb25Db250ZXh0ID0gZnVuY3Rpb24gYnVpbGRFeGVjdXRpb25Db250ZXh0KHRoZW1lLCBwcm9wcywgYXR0cnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb250ZXh0ID0gX2V4dGVuZHMoe30sIHByb3BzLCB7IHRoZW1lOiB0aGVtZSB9KTtcblxuICAgIGlmICghYXR0cnMubGVuZ3RoKSByZXR1cm4gY29udGV4dDtcblxuICAgIHRoaXMuYXR0cnMgPSB7fTtcblxuICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJEZWYpIHtcbiAgICAgIHZhciByZXNvbHZlZEF0dHJEZWYgPSBhdHRyRGVmO1xuICAgICAgdmFyIGF0dHJEZWZXYXNGbiA9IGZhbHNlO1xuICAgICAgdmFyIGF0dHIgPSB2b2lkIDA7XG4gICAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihyZXNvbHZlZEF0dHJEZWYpKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgcmVzb2x2ZWRBdHRyRGVmID0gcmVzb2x2ZWRBdHRyRGVmKGNvbnRleHQpO1xuICAgICAgICBhdHRyRGVmV2FzRm4gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBndWFyZC1mb3ItaW4gKi9cbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGZvciAoa2V5IGluIHJlc29sdmVkQXR0ckRlZikge1xuICAgICAgICBhdHRyID0gcmVzb2x2ZWRBdHRyRGVmW2tleV07XG5cbiAgICAgICAgaWYgKCFhdHRyRGVmV2FzRm4pIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhdHRyKSAmJiAhaXNEZXJpdmVkUmVhY3RDb21wb25lbnQoYXR0cikgJiYgIWlzU3R5bGVkQ29tcG9uZW50KGF0dHIpKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICBfdGhpczIud2FybkF0dHJzRm5PYmplY3RLZXlEZXByZWNhdGVkKGtleSwgcHJvcHMuZm9yd2FyZGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXR0ciA9IGF0dHIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGF0dHIpKSB7XG4gICAgICAgICAgICAgIF90aGlzMi53YXJuTm9uU3R5bGVkQ29tcG9uZW50QXR0cnNPYmplY3RLZXkoa2V5LCBwcm9wcy5mb3J3YXJkZWRDb21wb25lbnQuZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5hdHRyc1trZXldID0gYXR0cjtcbiAgICAgICAgY29udGV4dFtrZXldID0gYXR0cjtcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9KTtcblxuICAgIHJldHVybiBjb250ZXh0O1xuICB9O1xuXG4gIFN0eWxlZENvbXBvbmVudC5wcm90b3R5cGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMgPSBmdW5jdGlvbiBnZW5lcmF0ZUFuZEluamVjdFN0eWxlcyh0aGVtZSwgcHJvcHMpIHtcbiAgICB2YXIgX3Byb3BzJGZvcndhcmRlZENvbXBvMiA9IHByb3BzLmZvcndhcmRlZENvbXBvbmVudCxcbiAgICAgICAgYXR0cnMgPSBfcHJvcHMkZm9yd2FyZGVkQ29tcG8yLmF0dHJzLFxuICAgICAgICBjb21wb25lbnRTdHlsZSA9IF9wcm9wcyRmb3J3YXJkZWRDb21wbzIuY29tcG9uZW50U3R5bGUsXG4gICAgICAgIHdhcm5Ub29NYW55Q2xhc3NlcyA9IF9wcm9wcyRmb3J3YXJkZWRDb21wbzIud2FyblRvb01hbnlDbGFzc2VzO1xuXG4gICAgLy8gc3RhdGljYWxseSBzdHlsZWQtY29tcG9uZW50cyBkb24ndCBuZWVkIHRvIGJ1aWxkIGFuIGV4ZWN1dGlvbiBjb250ZXh0IG9iamVjdCxcbiAgICAvLyBhbmQgc2hvdWxkbid0IGJlIGluY3JlYXNpbmcgdGhlIG51bWJlciBvZiBjbGFzcyBuYW1lc1xuXG4gICAgaWYgKGNvbXBvbmVudFN0eWxlLmlzU3RhdGljICYmICFhdHRycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRTdHlsZS5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhFTVBUWV9PQkpFQ1QsIHRoaXMuc3R5bGVTaGVldCk7XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZSA9IGNvbXBvbmVudFN0eWxlLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKHRoaXMuYnVpbGRFeGVjdXRpb25Db250ZXh0KHRoZW1lLCBwcm9wcywgYXR0cnMpLCB0aGlzLnN0eWxlU2hlZXQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FyblRvb01hbnlDbGFzc2VzKSB3YXJuVG9vTWFueUNsYXNzZXMoY2xhc3NOYW1lKTtcblxuICAgIHJldHVybiBjbGFzc05hbWU7XG4gIH07XG5cbiAgcmV0dXJuIFN0eWxlZENvbXBvbmVudDtcbn0oQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVkQ29tcG9uZW50KHRhcmdldCwgb3B0aW9ucywgcnVsZXMpIHtcbiAgdmFyIGlzVGFyZ2V0U3R5bGVkQ29tcCA9IGlzU3R5bGVkQ29tcG9uZW50KHRhcmdldCk7XG4gIHZhciBpc0NsYXNzID0gIWlzVGFnKHRhcmdldCk7XG5cbiAgdmFyIF9vcHRpb25zJGRpc3BsYXlOYW1lID0gb3B0aW9ucy5kaXNwbGF5TmFtZSxcbiAgICAgIGRpc3BsYXlOYW1lID0gX29wdGlvbnMkZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCA/IGdlbmVyYXRlRGlzcGxheU5hbWUodGFyZ2V0KSA6IF9vcHRpb25zJGRpc3BsYXlOYW1lLFxuICAgICAgX29wdGlvbnMkY29tcG9uZW50SWQgPSBvcHRpb25zLmNvbXBvbmVudElkLFxuICAgICAgY29tcG9uZW50SWQgPSBfb3B0aW9ucyRjb21wb25lbnRJZCA9PT0gdW5kZWZpbmVkID8gZ2VuZXJhdGVJZChDb21wb25lbnRTdHlsZSwgb3B0aW9ucy5kaXNwbGF5TmFtZSwgb3B0aW9ucy5wYXJlbnRDb21wb25lbnRJZCkgOiBfb3B0aW9ucyRjb21wb25lbnRJZCxcbiAgICAgIF9vcHRpb25zJFBhcmVudENvbXBvbiA9IG9wdGlvbnMuUGFyZW50Q29tcG9uZW50LFxuICAgICAgUGFyZW50Q29tcG9uZW50ID0gX29wdGlvbnMkUGFyZW50Q29tcG9uID09PSB1bmRlZmluZWQgPyBTdHlsZWRDb21wb25lbnQgOiBfb3B0aW9ucyRQYXJlbnRDb21wb24sXG4gICAgICBfb3B0aW9ucyRhdHRycyA9IG9wdGlvbnMuYXR0cnMsXG4gICAgICBhdHRycyA9IF9vcHRpb25zJGF0dHJzID09PSB1bmRlZmluZWQgPyBFTVBUWV9BUlJBWSA6IF9vcHRpb25zJGF0dHJzO1xuXG5cbiAgdmFyIHN0eWxlZENvbXBvbmVudElkID0gb3B0aW9ucy5kaXNwbGF5TmFtZSAmJiBvcHRpb25zLmNvbXBvbmVudElkID8gZXNjYXBlKG9wdGlvbnMuZGlzcGxheU5hbWUpICsgJy0nICsgb3B0aW9ucy5jb21wb25lbnRJZCA6IG9wdGlvbnMuY29tcG9uZW50SWQgfHwgY29tcG9uZW50SWQ7XG5cbiAgLy8gZm9sZCB0aGUgdW5kZXJseWluZyBTdHlsZWRDb21wb25lbnQgYXR0cnMgdXAgKGltcGxpY2l0IGV4dGVuZClcbiAgdmFyIGZpbmFsQXR0cnMgPVxuICAvLyAkRmxvd0ZpeE1lXG4gIGlzVGFyZ2V0U3R5bGVkQ29tcCAmJiB0YXJnZXQuYXR0cnMgPyBBcnJheS5wcm90b3R5cGUuY29uY2F0KHRhcmdldC5hdHRycywgYXR0cnMpLmZpbHRlcihCb29sZWFuKSA6IGF0dHJzO1xuXG4gIHZhciBjb21wb25lbnRTdHlsZSA9IG5ldyBDb21wb25lbnRTdHlsZShpc1RhcmdldFN0eWxlZENvbXAgPyAvLyBmb2xkIHRoZSB1bmRlcmx5aW5nIFN0eWxlZENvbXBvbmVudCBydWxlcyB1cCAoaW1wbGljaXQgZXh0ZW5kKVxuICAvLyAkRmxvd0ZpeE1lXG4gIHRhcmdldC5jb21wb25lbnRTdHlsZS5ydWxlcy5jb25jYXQocnVsZXMpIDogcnVsZXMsIGZpbmFsQXR0cnMsIHN0eWxlZENvbXBvbmVudElkKTtcblxuICAvKipcbiAgICogZm9yd2FyZFJlZiBjcmVhdGVzIGEgbmV3IGludGVyaW0gY29tcG9uZW50LCB3aGljaCB3ZSdsbCB0YWtlIGFkdmFudGFnZSBvZlxuICAgKiBpbnN0ZWFkIG9mIGV4dGVuZGluZyBQYXJlbnRDb21wb25lbnQgdG8gY3JlYXRlIF9hbm90aGVyXyBpbnRlcmltIGNsYXNzXG4gICAqL1xuICB2YXIgV3JhcHBlZFN0eWxlZENvbXBvbmVudCA9IHZvaWQgMDtcbiAgdmFyIGZvcndhcmRSZWYgPSBmdW5jdGlvbiBmb3J3YXJkUmVmKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQYXJlbnRDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywgeyBmb3J3YXJkZWRDb21wb25lbnQ6IFdyYXBwZWRTdHlsZWRDb21wb25lbnQsIGZvcndhcmRlZFJlZjogcmVmIH0pKTtcbiAgfTtcbiAgZm9yd2FyZFJlZi5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICBXcmFwcGVkU3R5bGVkQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZihmb3J3YXJkUmVmKTtcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5hdHRycyA9IGZpbmFsQXR0cnM7XG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5jb21wb25lbnRTdHlsZSA9IGNvbXBvbmVudFN0eWxlO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5mb2xkZWRDb21wb25lbnRJZHMgPSBpc1RhcmdldFN0eWxlZENvbXAgPyAvLyAkRmxvd0ZpeE1lXG4gIEFycmF5LnByb3RvdHlwZS5jb25jYXQodGFyZ2V0LmZvbGRlZENvbXBvbmVudElkcywgdGFyZ2V0LnN0eWxlZENvbXBvbmVudElkKSA6IEVNUFRZX0FSUkFZO1xuXG4gIC8vICRGbG93Rml4TWVcbiAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC5zdHlsZWRDb21wb25lbnRJZCA9IHN0eWxlZENvbXBvbmVudElkO1xuXG4gIC8vIGZvbGQgdGhlIHVuZGVybHlpbmcgU3R5bGVkQ29tcG9uZW50IHRhcmdldCB1cCBzaW5jZSB3ZSBmb2xkZWQgdGhlIHN0eWxlc1xuICAvLyAkRmxvd0ZpeE1lXG4gIFdyYXBwZWRTdHlsZWRDb21wb25lbnQudGFyZ2V0ID0gaXNUYXJnZXRTdHlsZWRDb21wID8gdGFyZ2V0LnRhcmdldCA6IHRhcmdldDtcblxuICAvLyAkRmxvd0ZpeE1lXG4gIFdyYXBwZWRTdHlsZWRDb21wb25lbnQud2l0aENvbXBvbmVudCA9IGZ1bmN0aW9uIHdpdGhDb21wb25lbnQodGFnKSB7XG4gICAgdmFyIHByZXZpb3VzQ29tcG9uZW50SWQgPSBvcHRpb25zLmNvbXBvbmVudElkLFxuICAgICAgICBvcHRpb25zVG9Db3B5ID0gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3B0aW9ucywgWydjb21wb25lbnRJZCddKTtcblxuXG4gICAgdmFyIG5ld0NvbXBvbmVudElkID0gcHJldmlvdXNDb21wb25lbnRJZCAmJiBwcmV2aW91c0NvbXBvbmVudElkICsgJy0nICsgKGlzVGFnKHRhZykgPyB0YWcgOiBlc2NhcGUoZ2V0Q29tcG9uZW50TmFtZSh0YWcpKSk7XG5cbiAgICB2YXIgbmV3T3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zVG9Db3B5LCB7XG4gICAgICBhdHRyczogZmluYWxBdHRycyxcbiAgICAgIGNvbXBvbmVudElkOiBuZXdDb21wb25lbnRJZCxcbiAgICAgIFBhcmVudENvbXBvbmVudDogUGFyZW50Q29tcG9uZW50XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY3JlYXRlU3R5bGVkQ29tcG9uZW50KHRhZywgbmV3T3B0aW9ucywgcnVsZXMpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRTdHlsZWRDb21wb25lbnQsICdkZWZhdWx0UHJvcHMnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZm9sZGVkRGVmYXVsdFByb3BzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEob2JqKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHMgPSBpc1RhcmdldFN0eWxlZENvbXAgPyBtZXJnZSh0YXJnZXQuZGVmYXVsdFByb3BzLCBvYmopIDogb2JqO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgV3JhcHBlZFN0eWxlZENvbXBvbmVudC53YXJuVG9vTWFueUNsYXNzZXMgPSBjcmVhdGVXYXJuVG9vTWFueUNsYXNzZXMoZGlzcGxheU5hbWUpO1xuICB9XG5cbiAgLy8gJEZsb3dGaXhNZVxuICBXcmFwcGVkU3R5bGVkQ29tcG9uZW50LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnLicgKyBXcmFwcGVkU3R5bGVkQ29tcG9uZW50LnN0eWxlZENvbXBvbmVudElkO1xuICB9O1xuXG4gIGlmIChpc0NsYXNzKSB7XG4gICAgaG9pc3ROb25SZWFjdFN0YXRpY3MoV3JhcHBlZFN0eWxlZENvbXBvbmVudCwgdGFyZ2V0LCB7XG4gICAgICAvLyBhbGwgU0Mtc3BlY2lmaWMgdGhpbmdzIHNob3VsZCBub3QgYmUgaG9pc3RlZFxuICAgICAgYXR0cnM6IHRydWUsXG4gICAgICBjb21wb25lbnRTdHlsZTogdHJ1ZSxcbiAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgICAgZm9sZGVkQ29tcG9uZW50SWRzOiB0cnVlLFxuICAgICAgc3R5bGVkQ29tcG9uZW50SWQ6IHRydWUsXG4gICAgICB0YXJnZXQ6IHRydWUsXG4gICAgICB3aXRoQ29tcG9uZW50OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gV3JhcHBlZFN0eWxlZENvbXBvbmVudDtcbn1cblxuLy8gXG4vLyBUaGFua3MgdG8gUmVhY3RET01GYWN0b3JpZXMgZm9yIHRoaXMgaGFuZHkgbGlzdCFcblxudmFyIGRvbUVsZW1lbnRzID0gWydhJywgJ2FiYnInLCAnYWRkcmVzcycsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYXVkaW8nLCAnYicsICdiYXNlJywgJ2JkaScsICdiZG8nLCAnYmlnJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2l0ZScsICdjb2RlJywgJ2NvbCcsICdjb2xncm91cCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlbCcsICdkZXRhaWxzJywgJ2RmbicsICdkaWFsb2cnLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtJywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2knLCAnaWZyYW1lJywgJ2ltZycsICdpbnB1dCcsICdpbnMnLCAna2JkJywgJ2tleWdlbicsICdsYWJlbCcsICdsZWdlbmQnLCAnbGknLCAnbGluaycsICdtYWluJywgJ21hcCcsICdtYXJrJywgJ21hcnF1ZWUnLCAnbWVudScsICdtZW51aXRlbScsICdtZXRhJywgJ21ldGVyJywgJ25hdicsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAnb3B0Z3JvdXAnLCAnb3B0aW9uJywgJ291dHB1dCcsICdwJywgJ3BhcmFtJywgJ3BpY3R1cmUnLCAncHJlJywgJ3Byb2dyZXNzJywgJ3EnLCAncnAnLCAncnQnLCAncnVieScsICdzJywgJ3NhbXAnLCAnc2NyaXB0JywgJ3NlY3Rpb24nLCAnc2VsZWN0JywgJ3NtYWxsJywgJ3NvdXJjZScsICdzcGFuJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInLFxuXG4vLyBTVkdcbidjaXJjbGUnLCAnY2xpcFBhdGgnLCAnZGVmcycsICdlbGxpcHNlJywgJ2ZvcmVpZ25PYmplY3QnLCAnZycsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhckdyYWRpZW50JywgJ21hcmtlcicsICdtYXNrJywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdmcnLCAndGV4dCcsICd0c3BhbiddO1xuXG4vLyBcblxudmFyIHN0eWxlZCA9IGZ1bmN0aW9uIHN0eWxlZCh0YWcpIHtcbiAgcmV0dXJuIGNvbnN0cnVjdFdpdGhPcHRpb25zKGNyZWF0ZVN0eWxlZENvbXBvbmVudCwgdGFnKTtcbn07XG5cbi8vIFNob3J0aGFuZHMgZm9yIGFsbCB2YWxpZCBIVE1MIEVsZW1lbnRzXG5kb21FbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChkb21FbGVtZW50KSB7XG4gIHN0eWxlZFtkb21FbGVtZW50XSA9IHN0eWxlZChkb21FbGVtZW50KTtcbn0pO1xuXG4vLyBcblxudmFyIEdsb2JhbFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbG9iYWxTdHlsZShydWxlcywgY29tcG9uZW50SWQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHbG9iYWxTdHlsZSk7XG5cbiAgICB0aGlzLnJ1bGVzID0gcnVsZXM7XG4gICAgdGhpcy5jb21wb25lbnRJZCA9IGNvbXBvbmVudElkO1xuICAgIHRoaXMuaXNTdGF0aWMgPSBpc1N0YXRpY1J1bGVzKHJ1bGVzLCBFTVBUWV9BUlJBWSk7XG5cbiAgICBpZiAoIVN0eWxlU2hlZXQubWFzdGVyLmhhc0lkKGNvbXBvbmVudElkKSkge1xuICAgICAgU3R5bGVTaGVldC5tYXN0ZXIuZGVmZXJyZWRJbmplY3QoY29tcG9uZW50SWQsIFtdKTtcbiAgICB9XG4gIH1cblxuICBHbG9iYWxTdHlsZS5wcm90b3R5cGUuY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVzKGV4ZWN1dGlvbkNvbnRleHQsIHN0eWxlU2hlZXQpIHtcbiAgICB2YXIgZmxhdENTUyA9IGZsYXR0ZW4odGhpcy5ydWxlcywgZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gICAgdmFyIGNzcyA9IHN0cmluZ2lmeVJ1bGVzKGZsYXRDU1MsICcnKTtcblxuICAgIHN0eWxlU2hlZXQuaW5qZWN0KHRoaXMuY29tcG9uZW50SWQsIGNzcyk7XG4gIH07XG5cbiAgR2xvYmFsU3R5bGUucHJvdG90eXBlLnJlbW92ZVN0eWxlcyA9IGZ1bmN0aW9uIHJlbW92ZVN0eWxlcyhzdHlsZVNoZWV0KSB7XG4gICAgdmFyIGNvbXBvbmVudElkID0gdGhpcy5jb21wb25lbnRJZDtcblxuICAgIGlmIChzdHlsZVNoZWV0Lmhhc0lkKGNvbXBvbmVudElkKSkge1xuICAgICAgc3R5bGVTaGVldC5yZW1vdmUoY29tcG9uZW50SWQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiBvdmVyd3JpdGUgaW4tcGxhY2UgaW5zdGVhZCBvZiByZW1vdmUrY3JlYXRlP1xuXG5cbiAgR2xvYmFsU3R5bGUucHJvdG90eXBlLnJlbmRlclN0eWxlcyA9IGZ1bmN0aW9uIHJlbmRlclN0eWxlcyhleGVjdXRpb25Db250ZXh0LCBzdHlsZVNoZWV0KSB7XG4gICAgdGhpcy5yZW1vdmVTdHlsZXMoc3R5bGVTaGVldCk7XG4gICAgdGhpcy5jcmVhdGVTdHlsZXMoZXhlY3V0aW9uQ29udGV4dCwgc3R5bGVTaGVldCk7XG4gIH07XG5cbiAgcmV0dXJuIEdsb2JhbFN0eWxlO1xufSgpO1xuXG4vLyBcblxuLy8gcGxhY2Ugb3VyIGNhY2hlIGludG8gc2hhcmVkIGNvbnRleHQgc28gaXQnbGwgcGVyc2lzdCBiZXR3ZWVuIEhNUnNcbmlmIChJU19CUk9XU0VSKSB7XG4gIHdpbmRvdy5zY0NHU0hNUkNhY2hlID0ge307XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbFN0eWxlKHN0cmluZ3MpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGludGVycG9sYXRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGludGVycG9sYXRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBydWxlcyA9IGNzcy5hcHBseSh1bmRlZmluZWQsIFtzdHJpbmdzXS5jb25jYXQoaW50ZXJwb2xhdGlvbnMpKTtcbiAgdmFyIGlkID0gJ3NjLWdsb2JhbC0nICsgbXVybXVyaGFzaChKU09OLnN0cmluZ2lmeShydWxlcykpO1xuICB2YXIgc3R5bGUgPSBuZXcgR2xvYmFsU3R5bGUocnVsZXMsIGlkKTtcblxuICB2YXIgR2xvYmFsU3R5bGVDb21wb25lbnQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIGluaGVyaXRzKEdsb2JhbFN0eWxlQ29tcG9uZW50LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEdsb2JhbFN0eWxlQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHbG9iYWxTdHlsZUNvbXBvbmVudCk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgIHZhciBfdGhpcyRjb25zdHJ1Y3RvciA9IF90aGlzLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIGdsb2JhbFN0eWxlID0gX3RoaXMkY29uc3RydWN0b3IuZ2xvYmFsU3R5bGUsXG4gICAgICAgICAgc3R5bGVkQ29tcG9uZW50SWQgPSBfdGhpcyRjb25zdHJ1Y3Rvci5zdHlsZWRDb21wb25lbnRJZDtcblxuXG4gICAgICBpZiAoSVNfQlJPV1NFUikge1xuICAgICAgICB3aW5kb3cuc2NDR1NITVJDYWNoZVtzdHlsZWRDb21wb25lbnRJZF0gPSAod2luZG93LnNjQ0dTSE1SQ2FjaGVbc3R5bGVkQ29tcG9uZW50SWRdIHx8IDApICsgMTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGZpeGVzIEhNUiBjb21wYXRpYmlsaXR5LiBEb24ndCBhc2sgbWUgd2h5LCBidXQgdGhpcyBjb21iaW5hdGlvbiBvZlxuICAgICAgICogY2FjaGluZyB0aGUgY2xvc3VyZSB2YXJpYWJsZXMgdmlhIHN0YXRpY3MgYW5kIHRoZW4gcGVyc2lzdGluZyB0aGUgc3RhdGljcyBpblxuICAgICAgICogc3RhdGUgd29ya3MgYWNyb3NzIEhNUiB3aGVyZSBubyBvdGhlciBjb21iaW5hdGlvbiBkaWQuIMKvXFxfKOODhClfL8KvXG4gICAgICAgKi9cbiAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICBnbG9iYWxTdHlsZTogZ2xvYmFsU3R5bGUsXG4gICAgICAgIHN0eWxlZENvbXBvbmVudElkOiBzdHlsZWRDb21wb25lbnRJZFxuICAgICAgfTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBHbG9iYWxTdHlsZUNvbXBvbmVudC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh3aW5kb3cuc2NDR1NITVJDYWNoZVt0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkXSkge1xuICAgICAgICB3aW5kb3cuc2NDR1NITVJDYWNoZVt0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkXSAtPSAxO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBEZXBlbmRpbmcgb24gdGhlIG9yZGVyIFwicmVuZGVyXCIgaXMgY2FsbGVkIHRoaXMgY2FuIGNhdXNlIHRoZSBzdHlsZXMgdG8gYmUgbG9zdFxuICAgICAgICogdW50aWwgdGhlIG5leHQgcmVuZGVyIHBhc3Mgb2YgdGhlIHJlbWFpbmluZyBpbnN0YW5jZSwgd2hpY2ggbWF5XG4gICAgICAgKiBub3QgYmUgaW1tZWRpYXRlLlxuICAgICAgICovXG4gICAgICBpZiAod2luZG93LnNjQ0dTSE1SQ2FjaGVbdGhpcy5zdGF0ZS5zdHlsZWRDb21wb25lbnRJZF0gPT09IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5nbG9iYWxTdHlsZS5yZW1vdmVTdHlsZXModGhpcy5zdHlsZVNoZWV0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgR2xvYmFsU3R5bGVDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBnbG9iYWwgc3R5bGUgY29tcG9uZW50ICcgKyB0aGlzLnN0YXRlLnN0eWxlZENvbXBvbmVudElkICsgJyB3YXMgZ2l2ZW4gY2hpbGQgSlNYLiBjcmVhdGVHbG9iYWxTdHlsZSBkb2VzIG5vdCByZW5kZXIgY2hpbGRyZW4uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBTdHlsZVNoZWV0Q29uc3VtZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZ1bmN0aW9uIChzdHlsZVNoZWV0KSB7XG4gICAgICAgICAgX3RoaXMyLnN0eWxlU2hlZXQgPSBzdHlsZVNoZWV0IHx8IFN0eWxlU2hlZXQubWFzdGVyO1xuXG4gICAgICAgICAgdmFyIGdsb2JhbFN0eWxlID0gX3RoaXMyLnN0YXRlLmdsb2JhbFN0eWxlO1xuXG5cbiAgICAgICAgICBpZiAoZ2xvYmFsU3R5bGUuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIGdsb2JhbFN0eWxlLnJlbmRlclN0eWxlcyhTVEFUSUNfRVhFQ1VUSU9OX0NPTlRFWFQsIF90aGlzMi5zdHlsZVNoZWV0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBUaGVtZUNvbnN1bWVyLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IF90aGlzMi5jb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHM7XG5cblxuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gX2V4dGVuZHMoe30sIF90aGlzMi5wcm9wcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC50aGVtZSA9IGRldGVybWluZVRoZW1lKF90aGlzMi5wcm9wcywgdGhlbWUsIGRlZmF1bHRQcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2xvYmFsU3R5bGUucmVuZGVyU3R5bGVzKGNvbnRleHQsIF90aGlzMi5zdHlsZVNoZWV0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdsb2JhbFN0eWxlQ29tcG9uZW50O1xuICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgR2xvYmFsU3R5bGVDb21wb25lbnQuZ2xvYmFsU3R5bGUgPSBzdHlsZTtcbiAgR2xvYmFsU3R5bGVDb21wb25lbnQuc3R5bGVkQ29tcG9uZW50SWQgPSBpZDtcblxuXG4gIHJldHVybiBHbG9iYWxTdHlsZUNvbXBvbmVudDtcbn1cblxuLy8gXG5cbnZhciByZXBsYWNlV2hpdGVzcGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2VXaGl0ZXNwYWNlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3xcXFxcbi9nLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBrZXlmcmFtZXMoc3RyaW5ncykge1xuICAvKiBXYXJuaW5nIGlmIHlvdSd2ZSB1c2VkIGtleWZyYW1lcyBvbiBSZWFjdCBOYXRpdmUgKi9cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybignYGtleWZyYW1lc2AgY2Fubm90IGJlIHVzZWQgb24gUmVhY3ROYXRpdmUsIG9ubHkgb24gdGhlIHdlYi4gVG8gZG8gYW5pbWF0aW9uIGluIFJlYWN0TmF0aXZlIHBsZWFzZSB1c2UgQW5pbWF0ZWQuJyk7XG4gIH1cblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaW50ZXJwb2xhdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgaW50ZXJwb2xhdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIHJ1bGVzID0gY3NzLmFwcGx5KHVuZGVmaW5lZCwgW3N0cmluZ3NdLmNvbmNhdChpbnRlcnBvbGF0aW9ucykpO1xuXG4gIHZhciBuYW1lID0gZ2VuZXJhdGVBbHBoYWJldGljTmFtZShtdXJtdXJoYXNoKHJlcGxhY2VXaGl0ZXNwYWNlKEpTT04uc3RyaW5naWZ5KHJ1bGVzKSkpKTtcblxuICByZXR1cm4gbmV3IEtleWZyYW1lcyhuYW1lLCBzdHJpbmdpZnlSdWxlcyhydWxlcywgbmFtZSwgJ0BrZXlmcmFtZXMnKSk7XG59XG5cbi8vIFxuXG52YXIgd2l0aFRoZW1lID0gKGZ1bmN0aW9uIChDb21wb25lbnQkJDEpIHtcbiAgdmFyIFdpdGhUaGVtZSA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIFRoZW1lQ29uc3VtZXIsXG4gICAgICBudWxsLFxuICAgICAgZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IENvbXBvbmVudCQkMS5kZWZhdWx0UHJvcHM7XG5cbiAgICAgICAgdmFyIHRoZW1lUHJvcCA9IGRldGVybWluZVRoZW1lKHByb3BzLCB0aGVtZSwgZGVmYXVsdFByb3BzKTtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0aGVtZVByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbd2l0aFRoZW1lXSBZb3UgYXJlIG5vdCB1c2luZyBhIFRoZW1lUHJvdmlkZXIgbm9yIHBhc3NpbmcgYSB0aGVtZSBwcm9wIG9yIGEgdGhlbWUgaW4gZGVmYXVsdFByb3BzIGluIGNvbXBvbmVudCBjbGFzcyBcIicgKyBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCQkMSkgKyAnXCInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCQkMSwgX2V4dGVuZHMoe30sIHByb3BzLCB7IHRoZW1lOiB0aGVtZVByb3AsIHJlZjogcmVmIH0pKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcblxuICBob2lzdE5vblJlYWN0U3RhdGljcyhXaXRoVGhlbWUsIENvbXBvbmVudCQkMSk7XG5cbiAgV2l0aFRoZW1lLmRpc3BsYXlOYW1lID0gJ1dpdGhUaGVtZSgnICsgZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQkJDEpICsgJyknO1xuXG4gIHJldHVybiBXaXRoVGhlbWU7XG59KTtcblxuLy8gXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgX19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0hBVU5URURfQllfU1BPT0tZX0dIT1NUUyA9IHtcbiAgU3R5bGVTaGVldDogU3R5bGVTaGVldFxufTtcblxuLy8gXG5cbi8qIFdhcm5pbmcgaWYgeW91J3ZlIGltcG9ydGVkIHRoaXMgZmlsZSBvbiBSZWFjdCBOYXRpdmUgKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUud2FybihcIkl0IGxvb2tzIGxpa2UgeW91J3ZlIGltcG9ydGVkICdzdHlsZWQtY29tcG9uZW50cycgb24gUmVhY3QgTmF0aXZlLlxcblwiICsgXCJQZXJoYXBzIHlvdSdyZSBsb29raW5nIHRvIGltcG9ydCAnc3R5bGVkLWNvbXBvbmVudHMvbmF0aXZlJz9cXG5cIiArICdSZWFkIG1vcmUgYWJvdXQgdGhpcyBhdCBodHRwczovL3d3dy5zdHlsZWQtY29tcG9uZW50cy5jb20vZG9jcy9iYXNpY3MjcmVhY3QtbmF0aXZlJyk7XG59XG5cbi8qIFdhcm5pbmcgaWYgdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mIHN0eWxlZC1jb21wb25lbnRzICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ05vZGUuanMnKSA9PT0gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdqc2RvbScpID09PSAtMSkge1xuICB3aW5kb3dbJ19fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fJ10gPSB3aW5kb3dbJ19fc3R5bGVkLWNvbXBvbmVudHMtaW5pdF9fJ10gfHwgMDtcblxuICBpZiAod2luZG93WydfX3N0eWxlZC1jb21wb25lbnRzLWluaXRfXyddID09PSAxKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oXCJJdCBsb29rcyBsaWtlIHRoZXJlIGFyZSBzZXZlcmFsIGluc3RhbmNlcyBvZiAnc3R5bGVkLWNvbXBvbmVudHMnIGluaXRpYWxpemVkIGluIHRoaXMgYXBwbGljYXRpb24uIFwiICsgJ1RoaXMgbWF5IGNhdXNlIGR5bmFtaWMgc3R5bGVzIG5vdCByZW5kZXJpbmcgcHJvcGVybHksIGVycm9ycyBoYXBwZW5pbmcgZHVyaW5nIHJlaHlkcmF0aW9uIHByb2Nlc3MgJyArICdhbmQgbWFrZXMgeW91ciBhcHBsaWNhdGlvbiBiaWdnZXIgd2l0aG91dCBhIGdvb2QgcmVhc29uLlxcblxcbicgKyAnU2VlIGh0dHBzOi8vcy1jLnNoLzJCQVh6ZWQgZm9yIG1vcmUgaW5mby4nKTtcbiAgfVxuXG4gIHdpbmRvd1snX19zdHlsZWQtY29tcG9uZW50cy1pbml0X18nXSArPSAxO1xufVxuXG4vL1xuXG5leHBvcnQgZGVmYXVsdCBzdHlsZWQ7XG5leHBvcnQgeyBjcmVhdGVHbG9iYWxTdHlsZSwgY3NzLCBpc1N0eWxlZENvbXBvbmVudCwga2V5ZnJhbWVzLCBTZXJ2ZXJTdHlsZVNoZWV0LCBTdHlsZVNoZWV0Q29uc3VtZXIsIFN0eWxlU2hlZXRDb250ZXh0LCBTdHlsZVNoZWV0TWFuYWdlciwgVGhlbWVDb25zdW1lciwgVGhlbWVDb250ZXh0LCBUaGVtZVByb3ZpZGVyLCB3aXRoVGhlbWUsIF9fRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9IQVVOVEVEX0JZX1NQT09LWV9HSE9TVFMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlZC1jb21wb25lbnRzLmJyb3dzZXIuZXNtLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==